/*! For license information please see bundle.js.LICENSE.txt */
!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.chathead=t():e.chathead=t()}(this,(()=>(()=>{"use strict";var e={208:(e,t,n)=>{n.d(t,{A:()=>a});var r=n(601),o=n.n(r),i=n(314),s=n.n(i)()(o());s.push([e.id,"body,\nhtml {\n  margin: 0;\n  padding: 0;\n  font-family: Arial, sans-serif;\n}\n\n.file-preview {\n  height: 100px;\n  width: 100px;\n}\n\n/* Header styling */\n.header__j7hD9nXt3QpLvFz1uY6j7m2 {\n  display: flex;\n  justify-content: space-between;\n  align-items: center;\n  background-color: red;\n  color: white;\n  height: 60px; /* Adjust the height as needed */\n  padding: 0 20px;\n}\n\n.header__j7hD9nXt3QpLvFz1uY6j7m2 .left {\n  font-size: 24px;\n}\n\n.header__j7hD9nXt3QpLvFz1uY6j7m2 .right {\n  display: flex;\n  align-items: center;\n}\n\n.header__j7hD9nXt3QpLvFz1uY6j7m2 button {\n  margin-left: 10px;\n  padding: 5px 10px;\n}\n\n#chat_modal_opener__j7hD9nXt3QpLvFz1uY6j7m2 {\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  z-index: 10000;\n}\n\n.chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n  display: none;\n  max-height: 600px;\n  width: 400px;\n  border-radius: 10px;\n  box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);\n  font-family: Arial, sans-serif;\n  background-color: #f9f9f9;\n  position: fixed;\n  bottom: 20px;\n  right: 20px;\n  flex-direction: column;\n  overflow: hidden;\n  z-index: 100000;\n  /* display: flex; */\n}\n\n/* Hide scrollbar for WebKit browsers (Chrome, Safari) */\n/* .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2::-webkit-scrollbar {\n    display: none;\n} */\n\n\n\n.chat_header {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  color: #fff;\n  box-shadow: 0px 4px 10px rgba(0, 0, 0, 0.35);\n  background-color: rgb(163, 112, 206);\n  width: 400px;\n  height: 68px;\n  padding-left: 15px;\n  --r: 32px;\n  --s: 35px;\n  border-radius: 0 var(--r) 0 0;\n  --_m: /calc(1.5 * var(--r)) calc(1.5 * var(--r)) radial-gradient(\n      #000 72%,\n      #0000 74%\n    ) no-repeat;\n  mask: right calc(var(--s) + var(--r)) top 0 var(--_m),\n    right calc(var(--s) + var(--r)) var(--_m),\n    radial-gradient(var(--s) at 100% 0, #0000 99%, #000 101%)\n      calc(-1 * var(--r)) var(--r) no-repeat,\n    conic-gradient(\n      at calc(100% - var(--s) - 2 * var(--r)) calc(var(--s) + 2 * var(--r)),\n      #0000 25%,\n      #000 0\n    );\n}\n\n.chat_header h3 {\n  font-size: 18px;\n  font-weight: 500;\n}\n.chat_header_wrapper {\n  position: relative;\n  width: 400px;\n}\n\n.close_modal {\n  position: absolute;\n  top: 20px;\n  right: 10px;\n  width: 30px;\n  height: 30px;\n  background: white;\n  color: black;\n  border-radius: 50%;\n  box-shadow: rgba(0, 0, 0, 0.35) 0px 5px 15px;\n  z-index: 99;\n  outline: none;\n  border: none;\n  /* Exclude from masking */\n  mask: none;\n  -webkit-mask: none;\n}\n\n.chat_body {\n  padding: 10px;\n  height: 350px;\n  overflow-y: auto;\n  background: #fff;\n  -webkit-overflow-scrolling: touch;\n  scrollbar-width: none;\n  -ms-overflow-style: none;\n  flex: 1;\n}\n\n.chat_body::-webkit-scrollbar {\n  display: none;\n}\n\n/* #statusElement > .user_status_cir{\n  width: 15px;\n  height: 15px;\n  border-radius: 50%;\n} */\n/* .message {\n  max-width: 80%;\n  margin-bottom: 20px;\n} */\n.reaction {\n  position: absolute;\n  bottom: -20px;\n  right: 10px;\n  transform: translateX(0);\n  font-size: 20px;\n  background: #fff;\n  padding: 5px;\n  border-radius: 50%;\n  border: 1px solid #ddd;\n  z-index: 1;\n}\n\n.message-container {\n  display: flex;\n  flex-direction: column;\n  margin-bottom: 20px;\n}\n.message {\n  position: relative;\n  padding: 10px;\n  border: 1px solid #ddd;\n  background: #f9f9f9;\n  border-radius: 30px 10px 10px 0px;\n  width: 80%;\n  word-wrap: break-word;\n  margin-bottom: 30px;\n  max-width: 250px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n}\n.message p {\n  padding: 5px 10px 0px 5px;\n  margin: 0px;\n}\n\n.message span {\n  padding: 2px 10px 12px 10px;\n}\n.admin {\n  background-color: rgb(163, 112, 206);\n  color: #fff;\n  border-radius: 10px 0px 30px 10px;\n  margin-left: auto;\n  /* align-self: flex-end; */\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n  max-width: 250px;\n  width: 80%;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n}\n.admin span {\n  color: #fff;\n}\n\n.user {\n  background-color: #fff;\n  color: black;\n  /* align-self: flex-start; */\n  border-radius: 0px 10px 10px 30px;\n  margin-right: auto;\n  box-shadow: rgba(100, 100, 111, 0.2) 0px 7px 29px 0px;\n}\n.user span {\n  color: black;\n}\n\n\n\n.chat_footer {\n  display: flex;\n  padding: 10px;\n  border-top: 1px solid #ccc;\n  box-shadow: rgba(17, 17, 26, 0.25) 0px 1px 0px,\n    rgba(17, 17, 26, 0.25) 0px 0px 8px;\n}\n.chat_footer input {\n  /* flex: 1; */\n  padding: 10px;\n  border: 1px solid #ccc;\n  border-radius: 4px;\n  margin-right: 10px;\n  outline: none;\n  font-size: 16px;\n  width: 240px;\n}\n.chat_footer input:focus {\n  border: 1px solid rgb(163, 112, 206);\n}\n.bot-conroller {\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n  width: 100%;\n}\n.chat_footer .leave_mesg {\n  padding: 10px 20px;\n  background-color: rgb(163, 112, 206);\n  color: white;\n  border: none;\n  cursor: pointer;\n  font-size: 16px;\n  outline: none;\n  border-radius: 50px;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  gap: 10px;\n}\n\n.chat_footer .leave_mesg:hover {\n  background-color: rgb(140, 85, 185);\n}\n\n.timestamp {\n  display: block;\n  font-size: 0.75em;\n  text-align: right;\n  color: #777;\n}\n\n/* Existing CSS */\n\n/* CSS for the full-screen div */\n.full-screen-div {\n  display: flex;\n  width: 100%;\n  height: 100vh;\n  background-color: gray;\n}\n\n/* CSS for the left part */\n.left-part {\n  width: 35%;\n  height: 100%;\n  background-color: green;\n}\n\n/* CSS for the right part */\n.right-part {\n  width: 60%;\n  height: 100%;\n  background-color: red;\n  margin-left: 5%;\n}\n.chat_footer .sendButton {\n  width: 48px;\n  height: 48px;\n  border: none;\n  outline: none;\n  background-color: rgb(163, 112, 206);\n  border-radius: 50%;\n}\n.chat_footer .sendButton:hover {\n  background-color: rgb(140, 85, 185);\n}\n.input-conroller {\n  margin-right: 12px;\n}\n.welcomemsg {\n  /* border: 1px solid red;\n  padding: 16px;\n  margin: 16px;\n  border-radius: 25px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  text-align: center; */\n\n  background: rgb(226, 190, 255);\n  color: black;\n  padding: 8px;\n  border-radius: 25px;\n  text-align: center;\n  margin: 10px;\n  box-shadow: rgba(149, 157, 165, 0.2) 0px 8px 24px;\n  margin-bottom: 10px;\n  opacity: 0;\n  animation: slideInOut 4s ease-in-out forwards;\n}\n/* #loading-message {\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  text-align: center;\n  margin: auto;\n} */\n\n@keyframes slideInOut {\n  0% { opacity: 0; transform: translateX(-100%); }\n  20% { opacity: 1; transform: translateX(0); }\n  80% { opacity: 1; transform: translateX(0); }\n  100% { opacity: 0; transform: translateX(100%); }\n}\n/* @keyframes shake {\n    0%, 100% {\n        transform: translateX(0);\n    }\n    25%, 75% {\n        transform: translateX(-5px);\n    }\n    50% {\n        transform: translateX(5px);\n    }\n}\n#chat_modal_opener__j7hD9nXt3QpLvFz1uY6j7m2:hover {\n    animation: shake 0.5s ease;\n} */\n\n@keyframes zoom {\n  0% {\n    transform: scale(1);\n  }\n  50% {\n    transform: scale(1.2);\n  }\n  100% {\n    transform: scale(1);\n  }\n}\n\n#chat_modal_opener__j7hD9nXt3QpLvFz1uY6j7m2 {\n  animation: zoom 2s infinite ease-in-out;\n}\n.original-message {\n  background-color: rgb(160, 79, 227);\n  border-left: 5px solid rgb(200, 135, 254);\n  border-radius: 5px;\n  padding: 8px;\n}\n.reply-content {\n  padding: 0;\n}\n\n@media (max-width: 768px) {\n  .chat_modal__j7hD9nXt3QpLvFz1uY6j7m2 {\n    /* border: 5px solid red; */\n    display: none;\n    width: 90vw;\n    height: 90vh;\n    bottom: 5vh;\n    right: 5vw;\n    left: 5vw;\n    top: 5vh;\n    max-height: none;\n    border-radius: 0;\n    flex-direction: column;\n  }\n  .chat_body {\n    overflow-y: auto;\n  }\n\n  .chat_footer {\n    position: relative; /* Ensure it stays at the bottom */\n    bottom: 0;\n    left: 0;\n    right: 0;\n    box-shadow: rgba(17, 17, 26, 0.25) 0px 1px 0px,\n      rgba(17, 17, 26, 0.25) 0px 0px 8px;\n  }\n  .chat_header{\n    width: 690px;\n  }\n  .chat_header_wrapper{\n    width: 690px;\n  }\n  .leave_mesg {\n    width: 48%;\n    font-size: 18px;\n    font-weight: 500;\n  }\n  .chat_footer input {\n    width: 528px;\n  }\n}\n",""]);const a=s},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",r=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),r&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),r&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,r,o,i){"string"==typeof e&&(e=[[null,e,void 0]]);var s={};if(r)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var l=0;l<e.length;l++){var u=[].concat(e[l]);r&&s[u[0]]||(void 0!==i&&(void 0===u[5]||(u[1]="@layer".concat(u[5].length>0?" ".concat(u[5]):""," {").concat(u[1],"}")),u[5]=i),n&&(u[2]?(u[1]="@media ".concat(u[2]," {").concat(u[1],"}"),u[2]=n):u[2]=n),o&&(u[4]?(u[1]="@supports (".concat(u[4],") {").concat(u[1],"}"),u[4]=o):u[4]="".concat(o)),t.push(u))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,r=0;r<t.length;r++)if(t[r].identifier===e){n=r;break}return n}function r(e,r){for(var i={},s=[],a=0;a<e.length;a++){var c=e[a],l=r.base?c[0]+r.base:c[0],u=i[l]||0,d="".concat(l," ").concat(u);i[l]=u+1;var p=n(d),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)t[p].references++,t[p].updater(h);else{var f=o(h,r);r.byIndex=a,t.splice(a,0,{identifier:d,updater:f,references:1})}s.push(d)}return s}function o(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,o){var i=r(e=e||[],o=o||{});return function(e){e=e||[];for(var s=0;s<i.length;s++){var a=n(i[s]);t[a].references--}for(var c=r(e,o),l=0;l<i.length;l++){var u=n(i[l]);0===t[u].references&&(t[u].updater(),t.splice(u,1))}i=c}}},659:e=>{var t={};e.exports=function(e,n){var r=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var r="";n.supports&&(r+="@supports (".concat(n.supports,") {")),n.media&&(r+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(r+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),r+=n.css,o&&(r+="}"),n.media&&(r+="}"),n.supports&&(r+="}");var i=n.sourceMap;i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleTagTransform(r,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}},t={};function n(r){var o=t[r];if(void 0!==o)return o.exports;var i=t[r]={id:r,exports:{}};return e[r](i,i.exports,n),i.exports}n.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return n.d(t,{a:t}),t},n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.nc=void 0;var r={};n.r(r),n.d(r,{changeBackgroundColor:()=>$t,chat_modal:()=>Kt,getMessageIndex:()=>Qt,global_bucket:()=>Xt,identifiers:()=>Wt,initialize:()=>vn,loggedInUser:()=>dn,onboarding:()=>tn,renderCustomizeComponent:()=>en,routeToChat:()=>On,setUp:()=>an});var o={};function i(e){return i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i(e)}function s(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,o,i,s,a=[],c=!0,l=!1;try{if(i=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;c=!1}else for(;!(c=(r=i.call(n)).done)&&(a.push(r.value),a.length!==t);c=!0);}catch(e){l=!0,o=e}finally{try{if(!c&&null!=n.return&&(s=n.return(),Object(s)!==s))return}finally{if(l)throw o}}return a}}(e,t)||function(e,t){if(e){if("string"==typeof e)return a(e,t);var n={}.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=Array(t);n<t;n++)r[n]=e[n];return r}function c(){c=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},s="function"==typeof Symbol?Symbol:{},a=s.iterator||"@@iterator",l=s.asyncIterator||"@@asyncIterator",u=s.toStringTag||"@@toStringTag";function d(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{d({},"")}catch(e){d=function(e,t,n){return e[t]=n}}function p(e,t,n,r){var i=t&&t.prototype instanceof b?t:b,s=Object.create(i.prototype),a=new j(r||[]);return o(s,"_invoke",{value:O(e,n,a)}),s}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=p;var f="suspendedStart",g="suspendedYield",m="executing",y="completed",v={};function b(){}function _(){}function w(){}var x={};d(x,a,(function(){return this}));var C=Object.getPrototypeOf,k=C&&C(C(I([])));k&&k!==n&&r.call(k,a)&&(x=k);var E=w.prototype=b.prototype=Object.create(x);function L(e){["next","throw","return"].forEach((function(t){d(e,t,(function(e){return this._invoke(t,e)}))}))}function S(e,t){function n(o,s,a,c){var l=h(e[o],e,s);if("throw"!==l.type){var u=l.arg,d=u.value;return d&&"object"==i(d)&&r.call(d,"__await")?t.resolve(d.__await).then((function(e){n("next",e,a,c)}),(function(e){n("throw",e,a,c)})):t.resolve(d).then((function(e){u.value=e,a(u)}),(function(e){return n("throw",e,a,c)}))}c(l.arg)}var s;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return s=s?s.then(o,o):o()}})}function O(t,n,r){var o=f;return function(i,s){if(o===m)throw Error("Generator is already running");if(o===y){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=A(a,r);if(c){if(c===v)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===f)throw o=y,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=m;var l=h(t,n,r);if("normal"===l.type){if(o=r.done?y:g,l.arg===v)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=y,r.method="throw",r.arg=l.arg)}}}function A(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,A(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),v;var i=h(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,v;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,v):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,v)}function T(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function j(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(T,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[a];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,s=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return s.next=s}}throw new TypeError(i(t)+" is not iterable")}return _.prototype=w,o(E,"constructor",{value:w,configurable:!0}),o(w,"constructor",{value:_,configurable:!0}),_.displayName=d(w,u,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===_||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,w):(e.__proto__=w,d(e,u,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},L(S.prototype),d(S.prototype,l,(function(){return this})),t.AsyncIterator=S,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new S(p(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},L(E),d(E,u,"Generator"),d(E,a,(function(){return this})),d(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,j.prototype={constructor:j,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,v):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),v},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),v}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;N(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),v}},t}function l(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){l(i,r,o,s,a,"next",e)}function a(e){l(i,r,o,s,a,"throw",e)}s(void 0)}))}}function d(){var e=document.getElementById("notificationModal");"none"===e.style.display||""===e.style.display?e.style.display="block":e.style.display="none"}function p(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;history.pushState(null,"",e),window.location.reload()}function h(e,t,n){if(e){if("V1"==JSON.parse(e).settings.version)if(t)if(!1===n){var r=document.getElementById("tezkit-auth-area"),o=L("Logout"),i=E("My Profile",(function(e){f(e)}));r.appendChild(o),r.appendChild(i)}else S(t);else if(!1===n){var s=document.getElementById("tezkit-auth-area"),a=L("Signup");s.appendChild(a);var c=L("Login");s.appendChild(c)}else S()}else if(n)console.log("wahteir si the problemtezkit_header_req_p",n),S();else if(!1===n){var l=document.getElementById("tezkit-auth-area"),u=L("Signup");l.appendChild(u);var d=L("Login");l.appendChild(d)}}function f(e){var t=document.querySelector(".profile-modal");if(t)t.remove();else{var n=function(e){var t=document.createElement("div");Object.assign(t.style,{width:"300px",position:"absolute",borderRadius:"8px",zIndex:1e9,backgroundColor:"white",padding:"16px",border:"1px solid #ccc",boxShadow:"0 4px 8px rgba(0, 0, 0, 0.2)",fontFamily:"Arial, sans-serif",fontSize:"14px",color:"#333"});var n='\n    <table style="width: 100%; border-collapse: collapse;">\n      <tbody>\n        '.concat(Object.entries(e).map((function(e){var t=s(e,2),n=t[0],r=t[1];return"tenant_info"===n&&"object"===i(r)?'\n                <tr>\n                  <td colspan="2" style="padding: 8px 0; font-weight: bold; text-align: center;">Tenant Information</td>\n                </tr>\n                '.concat(Object.entries(r).map((function(e){var t=s(e,2),n=t[0],r=t[1];return'<tr>\n                        <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: left;">'.concat(n,'</td>\n                        <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: right;">').concat("string"==typeof r&&r.startsWith("http")?'<img src="'.concat(r,'" alt="').concat(n,'" style="width: 50px; height: auto; border-radius: 4px;" />'):r,"</td>\n                      </tr>")})).join(""),"\n              "):'\n              <tr>\n                <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: left;">'.concat(n,'</td>\n                <td style="padding: 4px; border-bottom: 1px solid #f0f0f0; text-align: right;">').concat("string"==typeof r&&r.startsWith("http")?'<img src="'.concat(r,'" alt="').concat(n,'" style="width: 50px; height: auto; border-radius: 4px;" />'):r,"</td>\n              </tr>\n            ")})).join(""),"\n      </tbody>\n    </table>\n  ");return t.innerHTML=n,t}(JSON.parse(localStorage.getItem("tezkit_me")));n.classList.add("profile-modal"),n.style.top="".concat(e.target.getBoundingClientRect().bottom+window.scrollY,"px"),n.style.right="0px",document.body.appendChild(n)}}function g(e){return m.apply(this,arguments)}function m(){return(m=u(c().mark((function e(t){var n,r,o,i,s,a,l,u,d,h,f;return c().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.preventDefault(),n=t.target,r=new FormData(n),e.prev=3,i=localStorage.getItem("tezkit_app_data")){e.next=7;break}throw new Error("Tezkit app data is missing from local storage.");case 7:if(s=JSON.parse(i),console.log("Parsed Tezkit App Data:",s),"V1"!==(null===(o=s.settings)||void 0===o?void 0:o.version)){e.next=34;break}return console.log("is it really goigng througthisn"),a={type:"user_type",email:r.get("email"),password:r.get("password"),app_name:s.app_name},l={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","Content-Type":"application/json"},e.next=15,fetch("https://gfxb0jf19k.execute-api.ap-south-1.amazonaws.com/prod/login",{method:"POST",body:JSON.stringify(a),headers:l});case 15:if(!(u=e.sent).ok){e.next=29;break}return e.next=19,u.json();case 19:if(null!=(d=e.sent)&&d.token){e.next=22;break}throw new Error("Invalid email or password. Token missing in response.");case 22:localStorage.setItem("tezkit_token",d.token),console.log("Token saved successfully:",d.token),h=localStorage.getItem("redirect_uri"),console.log("Redirect URI:",h),p(h||"/package-consumer/index.html"),e.next=34;break;case 29:return e.next=31,u.json();case 31:f=e.sent,console.error("Login failed:",f),B(["Login failed",f.error||"An unknown error occurred."]);case 34:e.next=40;break;case 36:e.prev=36,e.t0=e.catch(3),console.error("Error during login:",e.t0),B(["An unexpected error occurred. Please ensure all credentials are correct. If the issue persists, open a ticket.",e.t0.message||"Please try again later."]);case 40:case"end":return e.stop()}}),e,null,[[3,36]])})))).apply(this,arguments)}function y(e,t,n){var r=document.createElement("input");return r.name=e,r.placeholder=t,r.type=n,r.style.width="100%",r.style.padding="15px",r.style.marginBottom="20px",r.style.border="1px solid #ccc",r.style.borderRadius="3px",r.style.outline="none",r.style.fontSize="16px",r}function v(e){var t=document.createElement("div");t.style.position="fixed",t.style.top="0",t.style.left="0",t.style.width="100%",t.style.height="100%",t.style.backgroundColor="rgba(0, 0, 0, 0.5)",t.style.display="flex",t.style.justifyContent="center",t.style.alignItems="center",t.style.zIndex="1000";var n=document.createElement("div");n.style.backgroundColor="white",n.style.padding="100px",n.style.borderRadius="8px",n.style.width="800px",n.style.textAlign="center";var r=document.createElement("button"),o=document.createElement("i");o.classList.add("fa-solid","fa-arrow-left"),o.style.color="black",o.style.fontSize="24px",o.style.padding="14px",r.appendChild(o),r.style.marginBottom="15px",r.style.border="none",r.style.outline="none",r.style.borderRadius="8px",r.addEventListener("click",(function(){document.body.removeChild(t)})),n.appendChild(r),n.appendChild(e),t.appendChild(n),document.body.appendChild(t)}function b(e,t){var n=document.createElement("form");n.style.width="100%",n.id=e.form.id;var r=document.createElement("h2");r.textContent=e.form.title||"Form Title",r.style.textAlign="center",r.style.marginBottom="20px",n.appendChild(r),e.fields.forEach((function(e){var t=y(e.field_name,e.placeholder,e.type);n.appendChild(t)}));var o=document.createElement("button");return o.type="submit",o.textContent=e.submitButton.textContent||"Submit",o.style.width="100%",o.style.padding="20px",o.style.backgroundColor="#4CAF50",o.style.color="white",o.style.border="none",o.style.borderRadius="3px",o.style.fontSize="16px",o.style.fontWeight="600px",n.appendChild(o),n.addEventListener("submit",t),n}function _(){v(b({form:{id:"loginForm",title:"Login Title Here"},submitButton:{textContent:"Login"},fields:[{field_name:"email",placeholder:"Enter your email",type:"email"},{field_name:"password",placeholder:"Enter you password",type:"password"}]},g))}function w(e,t){var n=document.createElement("button");return n.setAttribute("class",e.toLowerCase()+"__"+F),n.style.marginRight="5px",n.textContent=e,n.addEventListener("click",t),n}function x(){var e=document.getElementById("signupForm");if(e)e.remove();else{var t=function(){var e=document.createElement("form");e.style.width="100%",e.id="signupForm";var t=document.createElement("h2");t.textContent="Signup",t.style.textAlign="center",t.style.marginBottom="20px",e.appendChild(t);var n=y("full_name","Enter your full name","text");e.appendChild(n);var r=document.createElement("label");r.textContent="Upload your profile picture (optional)",r.style.display="block",r.style.marginTop="15px";var o=document.createElement("input");o.type="file",o.id="profile_image",o.name="profile_image",o.accept="image/*",o.style.display="block",o.style.marginTop="5px",e.appendChild(r),e.appendChild(o);var i=y("phone","Enter your phone number (optional)","text");e.appendChild(i);var s=y("email","Enter your email","email");e.appendChild(s);var a=y("password","Enter your password","password");e.appendChild(a);var l=document.createElement("div");l.style.display="flex",l.style.alignItems="center",l.style.gap="20px";var d=document.createElement("label");d.textContent="Gender",d.style.fontWeight="600",d.style.marginRight="10px";var p=document.createElement("input");p.type="radio",p.name="gender",p.value="Male",p.style.transform="scale(1.5)";var h=document.createElement("input");h.type="radio",h.name="gender",h.value="Female",h.style.transform="scale(1.5)",l.appendChild(d),l.appendChild(p),l.appendChild(document.createTextNode("Male")),l.appendChild(h),l.appendChild(document.createTextNode("Female")),e.appendChild(l);var f=document.createElement("button");f.type="submit",f.textContent="Signup",f.style.width="100%",f.style.padding="20px",f.style.backgroundColor="#4CAF50",f.style.color="white",f.style.border="none",f.style.borderRadius="3px",f.style.fontSize="16px",f.style.marginTop="30px",f.style.cursor="pointer",e.appendChild(f);var g=localStorage.getItem("tezkit_app_data"),m=JSON.parse(g);return e.addEventListener("submit",function(){var t=u(c().mark((function t(n){var r,i,s;return c().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n.preventDefault(),(r=new FormData).append("type","user_type"),(i=o.files[0])&&r.append("file",i,i.name),r.phone&&""!==r.phone.trim()&&r.append("phone",r.phone.trim()),r.append("tenant",m.tenant_id),r.append("password",e.password.value),r.append("full_name",e.full_name.value),r.append("email",e.email.value),r.append("gender",e.gender.value),r.append("app_name",m.app_name),r.append("role","65536"),r.append("type","user_type"),s={method:"POST",headers:{"X-API-Key":m.auth_key},body:r,redirect:"follow"},t.prev=15,t.next=18,fetch("https://gfxb0jf19k.execute-api.ap-south-1.amazonaws.com/prod/signup",s);case 18:t.sent.ok?_():console.error("Signup failed"),t.next=25;break;case 22:t.prev=22,t.t0=t.catch(15),console.error("Error:",t.t0);case 25:case"end":return t.stop()}}),t,null,[[15,22]])})));return function(e){return t.apply(this,arguments)}}()),e}();t.id="signupForm",v(t)}}function C(){["tezkit_app_name","tezkit_api_key","tezkit_msgs_read_data","tezkit_msgs_unread_data","theme","tezkit_header_req","setup_done","redirect_uri","tezkit_app_data","tezkit_token","tezkit_me"].forEach((function(e){localStorage.removeItem(e)})),window.location.reload()}function k(){C()}function E(e,t){var n=document.createElement("button");return n.textContent=e,n.addEventListener("click",t),n}function L(e){var t={Signup:x,Login:_,Logout:k}[e];return t?w(e,(function(){t()})):(console.error("No function mapped for name: ".concat(e)),null)}function S(e){var t=document.createElement("div"),n=localStorage.getItem("theme"),r=JSON.parse(n);r&&r.header_theme&&(t.style.backgroundColor=r.header_theme.backgroundColor),r&&r.header_theme&&(t.style.color=r.header_theme.textColor),t.classList.add("header__"+F);var o=document.createElement("div");o.classList.add("left");var i=null,s=localStorage.getItem("tezkit_app_data");s&&(i=JSON.parse(s));var a=document.createElement("img");a.style.height="50px",a.style.marginRight="10px",o.appendChild(a);var c=document.createElement("div");i&&(console.log("sadfsdfsasdfsddf",i),c.textContent=i.tenant_id,i.tenant_info.image&&(a.src=i.tenant_info.image),a.alt=i.tenant_id+" Logo"),c.style.display="inline-block",c.style.verticalAlign="middle",o.appendChild(c),t.appendChild(o);var l=document.createElement("div");l.classList.add("right");var u=document.createElement("span");u.textContent="🔔",u.style.cursor="pointer",u.addEventListener("click",d);var p=document.createElement("span");p.setAttribute("id","notification_num"),p.textContent=0,p.style.cursor="pointer";var h=document.createElement("div");if(h.appendChild(u),h.appendChild(p),l.appendChild(h),t.appendChild(l),document.body.prepend(t),e){var g=w("Logout",(function(){k()}));l.appendChild(g);var m=E("My Profile",(function(e){f(e)}));l.appendChild(m)}else{var y=L("Login");l.appendChild(y);var v=L("Signup");l.appendChild(v)}}function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){T(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function T(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=j(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=j(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==j(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(){N=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new T(r||[]);return o(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function b(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(I([])));x&&x!==n&&r.call(x,s)&&(_=x);var C=b.prototype=y.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==j(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,s){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function I(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(j(t)+" is not iterable")}return v.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=I,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:I(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function j(e){return j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},j(e)}function I(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function R(e,t,n){return console.log("dataconterkey",e,t,n),console.log("erwewqrwerrwertertewrt",e[t][n]),e[t][n]}function B(e){var t=document.createElement("div");t.style.position="fixed",t.style.top="20px",t.style.right="20px",t.style.padding="20px",t.style.backgroundColor="#ff4d4d",t.style.color="#fff",t.style.border="1px solid #ff1a1a",t.style.zIndex="10000",t.style.borderRadius="5px",t.style.maxWidth="300px",t.style.fontFamily="Arial, sans-serif";var n=document.createElement("h3");n.textContent="Error(s) Occurred",t.appendChild(n);var r=document.createElement("ul");if(e){e.forEach((function(e){var t=document.createElement("li");t.textContent=e,r.appendChild(t)})),t.appendChild(r);var o=document.createElement("button");o.textContent="Close",o.style.marginTop="10px",o.style.backgroundColor="#ff1a1a",o.style.color="#fff",o.style.border="none",o.style.padding="5px 10px",o.style.cursor="pointer",o.style.borderRadius="3px",o.addEventListener("click",(function(){t.remove()}));var i=document.createElement("button");i.textContent="🔄 Reset Settings",i.style.cssText="\n    padding: 10px 20px;\n    background-color: #007BFF;\n    color: white;\n    border: none;\n    border-radius: 5px;\n    font-size: 16px;\n    cursor: pointer;\n    transition: background-color 0.3s ease, transform 0.2s ease;\n",i.addEventListener("mouseover",(function(){i.style.backgroundColor="#0056b3"})),i.addEventListener("mouseout",(function(){i.style.backgroundColor="#007BFF"})),i.addEventListener("mousedown",(function(){i.style.transform="scale(0.95)"})),i.addEventListener("mouseup",(function(){i.style.transform="scale(1)"})),i.addEventListener("click",(function(){C()})),t.appendChild(i),t.appendChild(o),document.body.prepend(t)}else console.error("no error still error pop up was tried to open, Contact Admin")}function V(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;console.log(e,"Here is the payload");var n=localStorage.getItem("tezkit_token");fetch("https://wtqbptd4j8.execute-api.ap-south-1.amazonaws.com/prod/update_chat",{method:"PUT",headers:{"Content-Type":"application/json",Authorization:"".concat(n)},body:JSON.stringify(e)}).then((function(e){if(!e.ok)throw new Error("HTTP error! status: ".concat(e.status));return e.json()})).then((function(e){console.log("Reaction updated successfully:",e)})).catch((function(n){console.error("Error updating reaction:",n),t<3?(console.log("Retrying in 7 seconds..."),setTimeout((function(){V(e,t+1)}),7e3)):console.error("Max retries reached, operation failed.")}))}function P(e){var t=document.getElementById("chatBody"),n=document.createElement("div");if(n.textContent=e.value,t.appendChild(n),e.isQuestion){var r=document.createElement("div"),o=function(t){var n=document.createElement("button");n.textContent=t,n.classList.add("choice"),n.addEventListener("click",(function(){P(e.children[t])})),r.appendChild(n)};for(var i in e.children)o(i);t.appendChild(r)}}n.r(o),n.d(o,{Decoder:()=>mt,Encoder:()=>ft,PacketType:()=>ht,protocol:()=>pt});var F="j7hD9nXt3QpLvFz1uY6j7m2";function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DELIVERED",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;console.log("show me what do e iahve",loggedInUser);var i="global_for__"+loggedInUser.tenant_info.id;e.emit("ON_MESSAGE_BULK_STATUS_UPDATE",{ret_ids:t,room:i,status:n,timestamp:Date.now(),app_name:r,user_id:o})}function M(e,t){fetch("https://tjlin02sxa.execute-api.ap-south-1.amazonaws.com/prod/update_ls_user?skip_ls_sending=true",{method:"PUT",body:e,headers:t}).then((function(e){return e.text()})).then((function(e){console.log("successfully send notification data",e)})).catch((function(e){console.error("Error:",e)}))}function z(e,t,n,r){console.log("this sis the apptyp, versionsdf",n,r,t),console.log("what is ths invoking?",e);var o=null,i=localStorage.getItem("tezkit_token");function s(){if(console.log("User has been away for more than 1 minute; here will send soc status message (OFFLINE)"),console.log("Isnt Userddddd just away!"),console.log(i,"tokensdfasdfdssdaloggedInUser",e),"P2A"==n&&"V1"==r){var o={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)",Authorization:i,"Content-Type":"application/json"};console.log("arewe here??what is the bodyCoentn",e);var s=JSON.stringify({is_online:!1,tenant:e.tenant,user_data:{email:e.email}});console.log("arewe heredyContent in away handler",s),M(s,o),t.emit("ON_USER_LIVE_STATUS",{status:!1,room:"global_for__"+e.tenant_info.id,frm_user:{id:e.id}})}else if("P2A"==n&&("V2"==r||"V3"==r)){var a=localStorage.getItem("tezkit_app_data"),c={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","x-api-key":JSON.parse(a).auth_key,"Content-Type":"application/json"};console.log("ahere is p2a v2.1",e);var l=JSON.stringify(A(A({},e),{},{is_online:!1}));console.log("arewe heredyContent in handlerUseraway",l,e),M(l,c),t.emit("ON_USER_LIVE_STATUS",{status:!1,room:"global_for__"+e.tenant_info.id,frm_user:{uid:e.uid}})}}document.addEventListener("visibilitychange",(function(){var i=localStorage.getItem("tezkit_app_data"),a=JSON.parse(i);console.log(JSON.stringify(a),"tezkit_app_pdata can you check if the key is found?","receive_live_status_from_connected_clients");var c=R(a.beta_toggle,"P2A","live_status");if(console.log("here is result",c),c.enable)if(document.hidden)o=setTimeout(s,1e3);else{clearTimeout(o),console.log("Isnt Userddddd just Back!");var l=localStorage.getItem("tezkit_token");console.log(l,"tokensdfasdfsdaloggedInUser",e);var u={};if("P2A"==n&&"V1"==r){console.log("dowerwerbeta_toggle.enable",c.enable),u={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)",Authorization:l,"Content-Type":"application/json"},console.log("arewe here??what is the bodyCoentn",e);var d=JSON.stringify({is_online:!0,tenant:e.tenant,user_data:{email:e.email}});console.log("arewe heredyContent when document is visibl3e",d,e.tenant_info.id),M(d,u),t.emit("ON_USER_LIVE_STATUS",{status:!0,room:"global_for__"+e.tenant_info.id,frm_user:{id:e.id}})}else if("P2A"==n&&("V2"==r||"V3"==r)){var p={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","x-api-key":a.auth_key,"Content-Type":"application/json"};console.log("ahere is p2a v2.1",e);var h=JSON.stringify(A(A({},e),{},{is_online:!0}));console.log("do we really have uid in there id???",e),M(h,p),t.emit("ON_USER_LIVE_STATUS",{status:!0,room:"global_for__"+e.tenant_info.id,frm_user:{uid:e.uid}})}}}))}function D(e,t){return U.apply(this,arguments)}function U(){return(e=N().mark((function e(t,n){var r,o,i,s;return N().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("was it called??"),t&&n){e.next=4;break}return console.error("app_name not provided to the client!"),e.abrupt("return");case 4:return console.log("arerewrewrew"),r="https://5p6f350xba.execute-api.ap-south-1.amazonaws.com/prod/get_app?act_type=user_type&app_name=".concat(t),o={Accept:"*/*","X-API-Key":n},e.prev=7,e.next=10,fetch(r,{method:"GET",headers:o});case 10:if((i=e.sent).ok){e.next=14;break}return console.error("Error: ".concat(i.status," - ").concat(i.statusText)),e.abrupt("return");case 14:return e.next=16,i.json();case 16:return s=e.sent,console.log("APP DATA",s),e.abrupt("return",s);case 21:e.prev=21,e.t0=e.catch(7),console.error("Request failed:",e.t0);case 24:case"end":return e.stop()}}),e,null,[[7,21]])})),U=function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){I(i,r,o,s,a,"next",e)}function a(e){I(i,r,o,s,a,"throw",e)}s(void 0)}))}).apply(this,arguments);var e}var q=n(72),J=n.n(q),Z=n(825),G=n.n(Z),Y=n(659),X=n.n(Y),W=n(56),K=n.n(W),Q=n(540),$=n.n(Q),ee=n(113),te=n.n(ee),ne=n(208),re={};re.styleTagTransform=te(),re.setAttributes=K(),re.insert=X().bind(null,"head"),re.domAPI=G(),re.insertStyleElement=$(),J()(ne.A,re),ne.A&&ne.A.locals&&ne.A.locals;const oe=Object.create(null);oe.open="0",oe.close="1",oe.ping="2",oe.pong="3",oe.message="4",oe.upgrade="5",oe.noop="6";const ie=Object.create(null);Object.keys(oe).forEach((e=>{ie[oe[e]]=e}));const se={type:"error",data:"parser error"},ae="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),ce="function"==typeof ArrayBuffer,le=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e&&e.buffer instanceof ArrayBuffer,ue=({type:e,data:t},n,r)=>ae&&t instanceof Blob?n?r(t):de(t,r):ce&&(t instanceof ArrayBuffer||le(t))?n?r(t):de(new Blob([t]),r):r(oe[e]+(t||"")),de=(e,t)=>{const n=new FileReader;return n.onload=function(){const e=n.result.split(",")[1];t("b"+(e||""))},n.readAsDataURL(e)};function pe(e){return e instanceof Uint8Array?e:e instanceof ArrayBuffer?new Uint8Array(e):new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}let he;const fe="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<64;e++)fe["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".charCodeAt(e)]=e;const ge="function"==typeof ArrayBuffer,me=(e,t)=>{if("string"!=typeof e)return{type:"message",data:ve(e,t)};const n=e.charAt(0);return"b"===n?{type:"message",data:ye(e.substring(1),t)}:ie[n]?e.length>1?{type:ie[n],data:e.substring(1)}:{type:ie[n]}:se},ye=(e,t)=>{if(ge){const n=(e=>{let t,n,r,o,i,s=.75*e.length,a=e.length,c=0;"="===e[e.length-1]&&(s--,"="===e[e.length-2]&&s--);const l=new ArrayBuffer(s),u=new Uint8Array(l);for(t=0;t<a;t+=4)n=fe[e.charCodeAt(t)],r=fe[e.charCodeAt(t+1)],o=fe[e.charCodeAt(t+2)],i=fe[e.charCodeAt(t+3)],u[c++]=n<<2|r>>4,u[c++]=(15&r)<<4|o>>2,u[c++]=(3&o)<<6|63&i;return l})(e);return ve(n,t)}return{base64:!0,data:e}},ve=(e,t)=>"blob"===t?e instanceof Blob?e:new Blob([e]):e instanceof ArrayBuffer?e:e.buffer,be=String.fromCharCode(30);let _e;function we(e){return e.reduce(((e,t)=>e+t.length),0)}function xe(e,t){if(e[0].length===t)return e.shift();const n=new Uint8Array(t);let r=0;for(let o=0;o<t;o++)n[o]=e[0][r++],r===e[0].length&&(e.shift(),r=0);return e.length&&r<e[0].length&&(e[0]=e[0].slice(r)),n}function Ce(e){if(e)return function(e){for(var t in Ce.prototype)e[t]=Ce.prototype[t];return e}(e)}Ce.prototype.on=Ce.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},Ce.prototype.once=function(e,t){function n(){this.off(e,n),t.apply(this,arguments)}return n.fn=t,this.on(e,n),this},Ce.prototype.off=Ce.prototype.removeListener=Ce.prototype.removeAllListeners=Ce.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var n,r=this._callbacks["$"+e];if(!r)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var o=0;o<r.length;o++)if((n=r[o])===t||n.fn===t){r.splice(o,1);break}return 0===r.length&&delete this._callbacks["$"+e],this},Ce.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),n=this._callbacks["$"+e],r=1;r<arguments.length;r++)t[r-1]=arguments[r];if(n){r=0;for(var o=(n=n.slice(0)).length;r<o;++r)n[r].apply(this,t)}return this},Ce.prototype.emitReserved=Ce.prototype.emit,Ce.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},Ce.prototype.hasListeners=function(e){return!!this.listeners(e).length};const ke="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")();function Ee(e,...t){return t.reduce(((t,n)=>(e.hasOwnProperty(n)&&(t[n]=e[n]),t)),{})}const Le=ke.setTimeout,Se=ke.clearTimeout;function Oe(e,t){t.useNativeTimers?(e.setTimeoutFn=Le.bind(ke),e.clearTimeoutFn=Se.bind(ke)):(e.setTimeoutFn=ke.setTimeout.bind(ke),e.clearTimeoutFn=ke.clearTimeout.bind(ke))}class Ae extends Error{constructor(e,t,n){super(e),this.description=t,this.context=n,this.type="TransportError"}}class Te extends Ce{constructor(e){super(),this.writable=!1,Oe(this,e),this.opts=e,this.query=e.query,this.socket=e.socket}onError(e,t,n){return super.emitReserved("error",new Ae(e,t,n)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState&&this.write(e)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=me(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}pause(e){}createUri(e,t={}){return e+"://"+this._hostname()+this._port()+this.opts.path+this._query(t)}_hostname(){const e=this.opts.hostname;return-1===e.indexOf(":")?e:"["+e+"]"}_port(){return this.opts.port&&(this.opts.secure&&Number(443!==this.opts.port)||!this.opts.secure&&80!==Number(this.opts.port))?":"+this.opts.port:""}_query(e){const t=function(e){let t="";for(let n in e)e.hasOwnProperty(n)&&(t.length&&(t+="&"),t+=encodeURIComponent(n)+"="+encodeURIComponent(e[n]));return t}(e);return t.length?"?"+t:""}}const Ne="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),je=64,Ie={};let Re,Be=0,Ve=0;function Pe(e){let t="";do{t=Ne[e%je]+t,e=Math.floor(e/je)}while(e>0);return t}function Fe(){const e=Pe(+new Date);return e!==Re?(Be=0,Re=e):e+"."+Pe(Be++)}for(;Ve<je;Ve++)Ie[Ne[Ve]]=Ve;let He=!1;try{He="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}const Me=He;function ze(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||Me))return new XMLHttpRequest}catch(e){}if(!t)try{return new(ke[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}function De(){}const Ue=null!=new ze({xdomain:!1}).responseType;class qe extends Ce{constructor(e,t){super(),Oe(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.data=void 0!==t.data?t.data:null,this.create()}create(){var e;const t=Ee(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");t.xdomain=!!this.opts.xd;const n=this.xhr=new ze(t);try{n.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){n.setDisableHeaderCheck&&n.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&n.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{n.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{n.setRequestHeader("Accept","*/*")}catch(e){}null===(e=this.opts.cookieJar)||void 0===e||e.addCookies(n),"withCredentials"in n&&(n.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(n.timeout=this.opts.requestTimeout),n.onreadystatechange=()=>{var e;3===n.readyState&&(null===(e=this.opts.cookieJar)||void 0===e||e.parseCookies(n)),4===n.readyState&&(200===n.status||1223===n.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof n.status?n.status:0)}),0))},n.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=qe.requestsCount++,qe.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=De,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete qe.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}function Je(){for(let e in qe.requests)qe.requests.hasOwnProperty(e)&&qe.requests[e].abort()}qe.requestsCount=0,qe.requests={},"undefined"!=typeof document&&("function"==typeof attachEvent?attachEvent("onunload",Je):"function"==typeof addEventListener&&addEventListener("onpagehide"in ke?"pagehide":"unload",Je,!1));const Ze="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),Ge=ke.WebSocket||ke.MozWebSocket,Ye="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase(),Xe={websocket:class extends Te{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,n=Ye?{}:Ee(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(n.headers=this.opts.extraHeaders);try{this.ws=Ye?new Ge(e,t,n):t?new Ge(e,t):new Ge(e)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;ue(n,this.supportsBinary,(e=>{try{this.ws.send(e)}catch(e){}r&&Ze((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){const e=this.opts.secure?"wss":"ws",t=this.query||{};return this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fe()),this.supportsBinary||(t.b64=1),this.createUri(e,t)}check(){return!!Ge}},webtransport:class extends Te{get name(){return"webtransport"}doOpen(){"function"==typeof WebTransport&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then((()=>{this.onClose()})).catch((e=>{this.onError("webtransport error",e)})),this.transport.ready.then((()=>{this.transport.createBidirectionalStream().then((e=>{const t=function(e,t){_e||(_e=new TextDecoder);const n=[];let r=0,o=-1,i=!1;return new TransformStream({transform(s,a){for(n.push(s);;){if(0===r){if(we(n)<1)break;const e=xe(n,1);i=!(128&~e[0]),o=127&e[0],r=o<126?3:126===o?1:2}else if(1===r){if(we(n)<2)break;const e=xe(n,2);o=new DataView(e.buffer,e.byteOffset,e.length).getUint16(0),r=3}else if(2===r){if(we(n)<8)break;const e=xe(n,8),t=new DataView(e.buffer,e.byteOffset,e.length),i=t.getUint32(0);if(i>Math.pow(2,21)-1){a.enqueue(se);break}o=i*Math.pow(2,32)+t.getUint32(4),r=3}else{if(we(n)<o)break;const e=xe(n,o);a.enqueue(me(i?e:_e.decode(e),t)),r=0}if(0===o||o>e){a.enqueue(se);break}}}})}(Number.MAX_SAFE_INTEGER,this.socket.binaryType),n=e.readable.pipeThrough(t).getReader(),r=new TransformStream({transform(e,t){!function(e,t){ae&&e.data instanceof Blob?e.data.arrayBuffer().then(pe).then(t):ce&&(e.data instanceof ArrayBuffer||le(e.data))?t(pe(e.data)):ue(e,!1,(e=>{he||(he=new TextEncoder),t(he.encode(e))}))}(e,(n=>{const r=n.length;let o;if(r<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,r);else if(r<65536){o=new Uint8Array(3);const e=new DataView(o.buffer);e.setUint8(0,126),e.setUint16(1,r)}else{o=new Uint8Array(9);const e=new DataView(o.buffer);e.setUint8(0,127),e.setBigUint64(1,BigInt(r))}e.data&&"string"!=typeof e.data&&(o[0]|=128),t.enqueue(o),t.enqueue(n)}))}});r.readable.pipeTo(e.writable),this.writer=r.writable.getWriter();const o=()=>{n.read().then((({done:e,value:t})=>{e||(this.onPacket(t),o())})).catch((e=>{}))};o();const i={type:"open"};this.query.sid&&(i.data=`{"sid":"${this.query.sid}"}`),this.writer.write(i).then((()=>this.onOpen()))}))})))}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const n=e[t],r=t===e.length-1;this.writer.write(n).then((()=>{r&&Ze((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){var e;null===(e=this.transport)||void 0===e||e.close()}},polling:class extends Te{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let n=location.port;n||(n=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||n!==e.port}const t=e&&e.forceBase64;this.supportsBinary=Ue&&!t,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(e++,this.once("pollComplete",(function(){--e||t()}))),this.writable||(e++,this.once("drain",(function(){--e||t()})))}else t()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){((e,t)=>{const n=e.split(be),r=[];for(let e=0;e<n.length;e++){const o=me(n[e],t);if(r.push(o),"error"===o.type)break}return r})(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState&&this.poll())}doClose(){const e=()=>{this.write([{type:"close"}])};"open"===this.readyState?e():this.once("open",e)}write(e){this.writable=!1,((e,t)=>{const n=e.length,r=new Array(n);let o=0;e.forEach(((e,i)=>{ue(e,!1,(e=>{r[i]=e,++o===n&&t(r.join(be))}))}))})(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){const e=this.opts.secure?"https":"http",t=this.query||{};return!1!==this.opts.timestampRequests&&(t[this.opts.timestampParam]=Fe()),this.supportsBinary||t.sid||(t.b64=1),this.createUri(e,t)}request(e={}){return Object.assign(e,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new qe(this.uri(),e)}doWrite(e,t){const n=this.request({method:"POST",data:e});n.on("success",t),n.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}},We=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,Ke=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function Qe(e){if(e.length>2e3)throw"URI too long";const t=e,n=e.indexOf("["),r=e.indexOf("]");-1!=n&&-1!=r&&(e=e.substring(0,n)+e.substring(n,r).replace(/:/g,";")+e.substring(r,e.length));let o=We.exec(e||""),i={},s=14;for(;s--;)i[Ke[s]]=o[s]||"";return-1!=n&&-1!=r&&(i.source=t,i.host=i.host.substring(1,i.host.length-1).replace(/;/g,":"),i.authority=i.authority.replace("[","").replace("]","").replace(/;/g,":"),i.ipv6uri=!0),i.pathNames=function(e,t){const n=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||n.splice(0,1),"/"==t.slice(-1)&&n.splice(n.length-1,1),n}(0,i.path),i.queryKey=function(e,t){const n={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,r){t&&(n[t]=r)})),n}(0,i.query),i}class $e extends Ce{constructor(e,t={}){super(),this.binaryType="arraybuffer",this.writeBuffer=[],e&&"object"==typeof e&&(t=e,e=null),e?(e=Qe(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=Qe(t.host).host),Oe(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},t),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),"string"==typeof this.opts.query&&(this.opts.query=function(e){let t={},n=e.split("&");for(let e=0,r=n.length;e<r;e++){let r=n[e].split("=");t[decodeURIComponent(r[0])]=decodeURIComponent(r[1])}return t}(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){const t=Object.assign({},this.opts.query);t.EIO=4,t.transport=e,this.id&&(t.sid=this.id);const n=Object.assign({},this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[e]);return new Xe[e](n)}open(){let e;if(this.opts.rememberUpgrade&&$e.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){this.transport&&this.transport.removeAllListeners(),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){let t=this.createTransport(e),n=!1;$e.priorWebsocketSuccess=!1;const r=()=>{n||(t.send([{type:"ping",data:"probe"}]),t.once("packet",(e=>{if(!n)if("pong"===e.type&&"probe"===e.data){if(this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;$e.priorWebsocketSuccess="websocket"===t.name,this.transport.pause((()=>{n||"closed"!==this.readyState&&(l(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{const e=new Error("probe error");e.transport=t.name,this.emitReserved("upgradeError",e)}})))};function o(){n||(n=!0,l(),t.close(),t=null)}const i=e=>{const n=new Error("probe error: "+e);n.transport=t.name,o(),this.emitReserved("upgradeError",n)};function s(){i("transport closed")}function a(){i("socket closed")}function c(e){t&&e.name!==t.name&&o()}const l=()=>{t.removeListener("open",r),t.removeListener("error",i),t.removeListener("close",s),this.off("close",a),this.off("upgrading",c)};t.once("open",r),t.once("error",i),t.once("close",s),this.once("close",a),this.once("upgrading",c),-1!==this.upgrades.indexOf("webtransport")&&"webtransport"!==e?this.setTimeoutFn((()=>{n||t.open()}),200):t.open()}onOpen(){if(this.readyState="open",$e.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade){let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(this.emitReserved("packet",e),this.emitReserved("heartbeat"),this.resetPingTimeout(),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let n=0;n<this.writeBuffer.length;n++){const r=this.writeBuffer[n].data;if(r&&(e+="string"==typeof(t=r)?function(e){let t=0,n=0;for(let r=0,o=e.length;r<o;r++)t=e.charCodeAt(r),t<128?n+=1:t<2048?n+=2:t<55296||t>=57344?n+=3:(r++,n+=4);return n}(t):Math.ceil(1.33*(t.byteLength||t.size))),n>0&&e>this.maxPayload)return this.writeBuffer.slice(0,n);e+=2}var t;return this.writeBuffer}write(e,t,n){return this.sendPacket("message",e,t,n),this}send(e,t,n){return this.sendPacket("message",e,t,n),this}sendPacket(e,t,n,r){if("function"==typeof t&&(r=t,t=void 0),"function"==typeof n&&(r=n,n=null),"closing"===this.readyState||"closed"===this.readyState)return;(n=n||{}).compress=!1!==n.compress;const o={type:e,data:t,options:n};this.emitReserved("packetCreate",o),this.writeBuffer.push(o),r&&this.once("flush",r),this.flush()}close(){const e=()=>{this.onClose("forced close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},n=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?n():e()})):this.upgrading?n():e()),this}onError(e){$e.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let n=0;const r=e.length;for(;n<r;n++)~this.transports.indexOf(e[n])&&t.push(e[n]);return t}}$e.protocol=4,$e.protocol;const et="function"==typeof ArrayBuffer,tt=e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer,nt=Object.prototype.toString,rt="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===nt.call(Blob),ot="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===nt.call(File);function it(e){return et&&(e instanceof ArrayBuffer||tt(e))||rt&&e instanceof Blob||ot&&e instanceof File}function st(e,t){if(!e||"object"!=typeof e)return!1;if(Array.isArray(e)){for(let t=0,n=e.length;t<n;t++)if(st(e[t]))return!0;return!1}if(it(e))return!0;if(e.toJSON&&"function"==typeof e.toJSON&&1===arguments.length)return st(e.toJSON(),!0);for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t)&&st(e[t]))return!0;return!1}function at(e){const t=[],n=e.data,r=e;return r.data=ct(n,t),r.attachments=t.length,{packet:r,buffers:t}}function ct(e,t){if(!e)return e;if(it(e)){const n={_placeholder:!0,num:t.length};return t.push(e),n}if(Array.isArray(e)){const n=new Array(e.length);for(let r=0;r<e.length;r++)n[r]=ct(e[r],t);return n}if("object"==typeof e&&!(e instanceof Date)){const n={};for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=ct(e[r],t));return n}return e}function lt(e,t){return e.data=ut(e.data,t),delete e.attachments,e}function ut(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let n=0;n<e.length;n++)e[n]=ut(e[n],t);else if("object"==typeof e)for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(e[n]=ut(e[n],t));return e}const dt=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],pt=5;var ht;!function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(ht||(ht={}));class ft{constructor(e){this.replacer=e}encode(e){return e.type!==ht.EVENT&&e.type!==ht.ACK||!st(e)?[this.encodeAsString(e)]:this.encodeAsBinary({type:e.type===ht.EVENT?ht.BINARY_EVENT:ht.BINARY_ACK,nsp:e.nsp,data:e.data,id:e.id})}encodeAsString(e){let t=""+e.type;return e.type!==ht.BINARY_EVENT&&e.type!==ht.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),t}encodeAsBinary(e){const t=at(e),n=this.encodeAsString(t.packet),r=t.buffers;return r.unshift(n),r}}function gt(e){return"[object Object]"===Object.prototype.toString.call(e)}class mt extends Ce{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e);const n=t.type===ht.BINARY_EVENT;n||t.type===ht.BINARY_ACK?(t.type=n?ht.EVENT:ht.ACK,this.reconstructor=new yt(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!it(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const n={type:Number(e.charAt(0))};if(void 0===ht[n.type])throw new Error("unknown packet type "+n.type);if(n.type===ht.BINARY_EVENT||n.type===ht.BINARY_ACK){const r=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const o=e.substring(r,t);if(o!=Number(o)||"-"!==e.charAt(t))throw new Error("Illegal attachments");n.attachments=Number(o)}if("/"===e.charAt(t+1)){const r=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);n.nsp=e.substring(r,t)}else n.nsp="/";const r=e.charAt(t+1);if(""!==r&&Number(r)==r){const r=t+1;for(;++t;){const n=e.charAt(t);if(null==n||Number(n)!=n){--t;break}if(t===e.length)break}n.id=Number(e.substring(r,t+1))}if(e.charAt(++t)){const r=this.tryParse(e.substr(t));if(!mt.isPayloadValid(n.type,r))throw new Error("invalid payload");n.data=r}return n}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case ht.CONNECT:return gt(t);case ht.DISCONNECT:return void 0===t;case ht.CONNECT_ERROR:return"string"==typeof t||gt(t);case ht.EVENT:case ht.BINARY_EVENT:return Array.isArray(t)&&("number"==typeof t[0]||"string"==typeof t[0]&&-1===dt.indexOf(t[0]));case ht.ACK:case ht.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}}class yt{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=lt(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}function vt(e,t,n){return e.on(t,n),function(){e.off(t,n)}}const bt=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class _t extends Ce{constructor(e,t,n){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,n&&n.auth&&(this.auth=n.auth),this._opts=Object.assign({},n),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[vt(e,"open",this.onopen.bind(this)),vt(e,"packet",this.onpacket.bind(this)),vt(e,"error",this.onerror.bind(this)),vt(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(bt.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');if(t.unshift(e),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(t),this;const n={type:ht.EVENT,data:t,options:{}};if(n.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++,r=t.pop();this._registerAckCallback(e,r),n.id=e}const r=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!r||!this.connected)||(this.connected?(this.notifyOutgoingListeners(n),this.packet(n)):this.sendBuffer.push(n)),this.flags={},this}_registerAckCallback(e,t){var n;const r=null!==(n=this.flags.timeout)&&void 0!==n?n:this._opts.ackTimeout;if(void 0===r)return void(this.acks[e]=t);const o=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&this.sendBuffer.splice(t,1);t.call(this,new Error("operation has timed out"))}),r),i=(...e)=>{this.io.clearTimeoutFn(o),t.apply(this,e)};i.withError=!0,this.acks[e]=i}emitWithAck(e,...t){return new Promise(((n,r)=>{const o=(e,t)=>e?r(e):n(t);o.withError=!0,t.push(o),this.emit(e,...t)}))}_addToQueue(e){let t;"function"==typeof e[e.length-1]&&(t=e.pop());const n={id:this._queueSeq++,tryCount:0,pending:!1,args:e,flags:Object.assign({fromQueue:!0},this.flags)};e.push(((e,...r)=>{if(n===this._queue[0])return null!==e?n.tryCount>this._opts.retries&&(this._queue.shift(),t&&t(e)):(this._queue.shift(),t&&t(null,...r)),n.pending=!1,this._drainQueue()})),this._queue.push(n),this._drainQueue()}_drainQueue(e=!1){if(!this.connected||0===this._queue.length)return;const t=this._queue[0];t.pending&&!e||(t.pending=!0,t.tryCount++,this.flags=t.flags,this.emit.apply(this,t.args))}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){"function"==typeof this.auth?this.auth((e=>{this._sendConnectPacket(e)})):this._sendConnectPacket(this.auth)}_sendConnectPacket(e){this.packet({type:ht.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},e):e})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t),this._clearAcks()}_clearAcks(){Object.keys(this.acks).forEach((e=>{if(!this.sendBuffer.some((t=>String(t.id)===e))){const t=this.acks[e];delete this.acks[e],t.withError&&t.call(this,new Error("socket has been disconnected"))}}))}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case ht.CONNECT:e.data&&e.data.sid?this.onconnect(e.data.sid,e.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case ht.EVENT:case ht.BINARY_EVENT:this.onevent(e);break;case ht.ACK:case ht.BINARY_ACK:this.onack(e);break;case ht.DISCONNECT:this.ondisconnect();break;case ht.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];null!=e.id&&t.push(this.ack(e.id)),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const n of t)n.apply(this,e)}super.emit.apply(this,e),this._pid&&e.length&&"string"==typeof e[e.length-1]&&(this._lastOffset=e[e.length-1])}ack(e){const t=this;let n=!1;return function(...r){n||(n=!0,t.packet({type:ht.ACK,id:e,data:r}))}}onack(e){const t=this.acks[e.id];"function"==typeof t&&(delete this.acks[e.id],t.withError&&e.data.unshift(null),t.apply(this,e.data))}onconnect(e,t){this.id=e,this.recovered=t&&this._pid===t,this._pid=t,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:ht.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let n=0;n<t.length;n++)if(e===t[n])return t.splice(n,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const n of t)n.apply(this,e.data)}}}function wt(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}wt.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),n=Math.floor(t*this.jitter*e);e=1&Math.floor(10*t)?e+n:e-n}return 0|Math.min(e,this.max)},wt.prototype.reset=function(){this.attempts=0},wt.prototype.setMin=function(e){this.ms=e},wt.prototype.setMax=function(e){this.max=e},wt.prototype.setJitter=function(e){this.jitter=e};class xt extends Ce{constructor(e,t){var n;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,Oe(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(n=t.randomizationFactor)&&void 0!==n?n:.5),this.backoff=new wt({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const r=t.parser||o;this.encoder=new r.Encoder,this.decoder=new r.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(~this._readyState.indexOf("open"))return this;this.engine=new $e(this.uri,this.opts);const t=this.engine,n=this;this._readyState="opening",this.skipReconnect=!1;const r=vt(t,"open",(function(){n.onopen(),e&&e()})),o=t=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",t),e?e(t):this.maybeReconnectOnOpen()},i=vt(t,"error",o);if(!1!==this._timeout){const e=this._timeout,n=this.setTimeoutFn((()=>{r(),o(new Error("timeout")),t.close()}),e);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}return this.subs.push(r),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(vt(e,"ping",this.onping.bind(this)),vt(e,"data",this.ondata.bind(this)),vt(e,"error",this.onerror.bind(this)),vt(e,"close",this.onclose.bind(this)),vt(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){Ze((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){this.emitReserved("error",e)}socket(e,t){let n=this.nsps[e];return n?this._autoConnect&&!n.active&&n.connect():(n=new _t(this,e,t),this.nsps[e]=n),n}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return;this._close()}_packet(e){const t=this.encoder.encode(e);for(let n=0;n<t.length;n++)this.engine.write(t[n],e.options)}cleanup(){this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();this._reconnecting=!0;const n=this.setTimeoutFn((()=>{e.skipReconnect||(this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):e.onreconnect()})))}),t);this.opts.autoUnref&&n.unref(),this.subs.push((()=>{this.clearTimeoutFn(n)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}const Ct={};function kt(e,t){"object"==typeof e&&(t=e,e=void 0);const n=function(e,t="",n){let r=e;n=n||"undefined"!=typeof location&&location,null==e&&(e=n.protocol+"//"+n.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?n.protocol+e:n.host+e),/^(https?|wss?):\/\//.test(e)||(e=void 0!==n?n.protocol+"//"+e:"https://"+e),r=Qe(e)),r.port||(/^(http|ws)$/.test(r.protocol)?r.port="80":/^(http|ws)s$/.test(r.protocol)&&(r.port="443")),r.path=r.path||"/";const o=-1!==r.host.indexOf(":")?"["+r.host+"]":r.host;return r.id=r.protocol+"://"+o+":"+r.port+t,r.href=r.protocol+"://"+o+(n&&n.port===r.port?"":":"+r.port),r}(e,(t=t||{}).path||"/socket.io"),r=n.source,o=n.id,i=n.path,s=Ct[o]&&i in Ct[o].nsps;let a;return t.forceNew||t["force new connection"]||!1===t.multiplex||s?a=new xt(r,t):(Ct[o]||(Ct[o]=new xt(r,t)),a=Ct[o]),n.query&&!t.query&&(t.query=n.queryKey),a.socket(n.path,t)}function Et(e){return Et="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Et(e)}function Lt(){Lt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new T(r||[]);return o(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function b(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,s)&&(_=x);var C=b.prototype=y.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Et(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,s){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Et(t)+" is not iterable")}return v.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function St(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Ot(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){St(i,r,o,s,a,"next",e)}function a(e){St(i,r,o,s,a,"throw",e)}s(void 0)}))}}Object.assign(kt,{Manager:xt,Socket:_t,io:kt,connect:kt});var At=!1,Tt=localStorage.getItem("theme");function Nt(e,t,n,r,o,i){(n=document.createElement("div")).classList.add("chat_modal__"+F),n.id="chatModal__"+F,document.body.appendChild(n),n.innerHTML='\n        <div class="chat_header_wrapper">\n        <div class="chat_header ">\n            <div style="display: flex; align-items: center;">\n            <h3 id="loginMessage"></h3>\n        <span id="statusElement" style="margin-left: 10px; "><div class="user_status_cir"></div><div class="user_status_text"></div></span>\n        <span id="typingStatusElm"></span>\n\n            </div>\n        </div>\n        <button id='.concat("close-btn__"+F,' " class="close_modal" >&#10006;</button>\n        </div>\n\n        <div class="chat_notice" id="chatNotice" style="display: none;">\n            \x3c!-- Messages will be dynamically added here --\x3e\n        </div>\n        \n        <div class="chat_body" id="chatBody">\n            \x3c!-- Messages will be dynamically added here --\x3e\n        </div>\n        <div class="chat_footer">\n            <div class="input-conroller" style="display: none;">\n      \n            </div>\n\n            <div class="bot-conroller">\n            <button id="leave-message" class="leave_mesg">Leave A Message</button>\n            <button id="talk-to-bot" class="leave_mesg"> <span>\n            <svg width="30" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n      <path d="M18.4956 7.45605H11.3305C9.90117 7.45605 8.73828 8.61889 8.73828 10.0483C8.73828 11.4777 9.90112 12.6405 11.3305 12.6405H18.4956C19.9249 12.6405 21.0878 11.4777 21.0878 10.0483C21.0878 8.61889 19.9249 7.45605 18.4956 7.45605ZM12.3986 10.3686C12.3986 10.8512 12.0074 11.2424 11.5248 11.2424C11.0423 11.2424 10.6511 10.8512 10.6511 10.3686V9.72784C10.6511 9.24528 11.0423 8.85405 11.5248 8.85405C12.0074 8.85405 12.3986 9.24528 12.3986 9.72784V10.3686ZM19.175 10.3686C19.175 10.8512 18.7837 11.2424 18.3012 11.2424C17.8186 11.2424 17.4274 10.8512 17.4274 10.3686V9.72784C17.4274 9.24528 17.8186 8.85405 18.3012 8.85405C18.7837 8.85405 19.175 9.24528 19.175 9.72784V10.3686Z" fill="white"/>\n      <path d="M25.4563 12.1163V10.4274C25.4563 4.5861 20.7234 0 14.9126 0C9.09559 0 4.36893 4.5868 4.36893 10.4274V12.1163C4.36893 14.8115 6.56744 17.0097 9.26231 17.0097H20.5629C23.2578 17.0097 25.4563 14.8112 25.4563 12.1163ZM11.3301 14.3883C8.93715 14.3883 6.99029 12.4415 6.99029 10.0485C6.99029 7.65548 8.93709 5.70868 11.3301 5.70868H18.4951C20.8881 5.70868 22.835 7.65548 22.835 10.0485C22.835 12.4415 20.8881 14.3883 18.4951 14.3883H11.3301ZM19.4563 20.5049H17.534C16.5728 20.5049 15.7864 21.2913 15.7864 22.2524C15.7864 23.2136 16.5728 24 17.534 24H19.4563C20.4175 24 21.2039 23.2136 21.2039 22.2524C21.2039 21.2913 20.4175 20.5049 19.4563 20.5049ZM28.0777 17.8542C28.0777 19.7962 26.3967 21.4369 24.407 21.4369H22.8544C22.9188 21.704 22.9513 21.9777 22.9515 22.2524C22.9515 22.5752 22.9065 22.8875 22.8243 23.1845H24.407C27.344 23.1845 29.8252 20.7435 29.8252 17.8542V16.1464C29.317 16.5288 28.723 16.8031 28.0777 16.9347V17.8542ZM27.2039 6.47889H27.1283V1.42584C27.1283 0.943281 26.737 0.552058 26.2545 0.552058C25.7719 0.552058 25.3807 0.943281 25.3807 1.42584V4.00922C26.5682 5.91128 27.2039 8.11596 27.2039 10.4274V12.1163C27.2039 13.259 26.9138 14.3351 26.4034 15.275H27.2039C28.6493 15.275 29.8252 14.0991 29.8252 12.6537V9.10025C29.8252 7.65483 28.6493 6.47889 27.2039 6.47889ZM2.62136 10.4274C2.62136 8.11491 3.25707 5.90953 4.44449 4.00724V1.42584C4.44449 0.943281 4.05326 0.552058 3.5707 0.552058C3.08814 0.552058 2.69691 0.943281 2.69691 1.42584V6.47889H2.62136C1.17594 6.47889 0 7.65483 0 9.10025V12.6537C0 14.0991 1.17594 15.275 2.62136 15.275H3.42186C2.91146 14.3351 2.62136 13.259 2.62136 12.1163V10.4274Z" fill="white"/>\n      </svg>\n\n            </span>\n            Talk To Bot</button>\n            </div>\n\n        </div>\n      ');var s=document.getElementById("close-btn__"+F);function a(){return(a=Ot(Lt().mark((function e(r){var o,i,s;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("handleLSUpdatedsfasdf",r),Vt(r.is_online),console.log("here is chatobdy",t),t.enabled_bot_content&&"P2A"==t.settings.app_type&&(o=localStorage.getItem("tezkit_bot_data"),i=null,o&&(i=JSON.parse(o),console.log("botContentsdfsda",i),i&&i.FAQ&&P(i.FAQ),i&&i.WELCOME_MSG&&((s=n.querySelector(".chat_notice")).textContent="",Bt(i.WELCOME_MSG,s))));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}s.addEventListener("click",(function(){return Ht(dn,t)})),r&&r.chat_box_theme&&r.chat_box_theme.backgroundColor&&(s.style.color=r.chat_box_theme.backgroundColor),r&&r.chat_box_theme&&r.chat_box_theme.textColor&&(s.style.backgroundColor=r.chat_box_theme.textColor),console.log("modal got open!");var c=t.tenant_id,l=t.app_name,u=t.settings.version,d={tenantName:c,otherUserId:i,appName:l,version:u};console.log("teazdasdf",d),t.beta_toggle.P2A.live_status.enable&&function(e,t){Rt.apply(this,arguments)}({tenantName:c,otherUserId:i,appName:l,version:u},(function(e){return a.apply(this,arguments)})),document.getElementById("unread_chat_msgs_num").textContent="0";var p=localStorage.getItem("tezkit_msgs_unread_data"),h=JSON.parse(p);function f(e){return g.apply(this,arguments)}function g(){return(g=Ot(Lt().mark((function e(n){var r,o,i;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(_.textContent="Loading...",e.prev=1,(r=localStorage.getItem("tezkit_token"))||"V1"!=t.settings.version){e.next=5;break}throw new Error("Token is missing");case 5:if(o=null,"V1"!=t.settings.version){e.next=13;break}return console.log("arenot u going frm here???"),e.next=10,fetch(n,{method:"GET",headers:{Authorization:r,Accept:"application/json"}});case 10:o=e.sent,e.next=18;break;case 13:if("V1"==t.settings.version){e.next=18;break}return console.log("arenot u going frm here??? no",t.settings.version),e.next=17,fetch("".concat(n,"&uid=").concat(dn.uid,"&other_user_id=").concat(t.tenant_info.id),{method:"GET",headers:{Accept:"application/json"}});case 17:o=e.sent;case 18:if(o.ok){e.next=21;break}throw _.textContent="",new Error("Failed to fetch data");case 21:return e.next=23,o.json();case 23:return i=e.sent,_.textContent="",e.abrupt("return",i);case 28:e.prev=28,e.t0=e.catch(1),console.error("Error fetching messages:",e.t0);case 31:case"end":return e.stop()}}),e,null,[[1,28]])})))).apply(this,arguments)}var m=!1,y=1,v=0,b="https://wtqbptd4j8.execute-api.ap-south-1.amazonaws.com/prod/get_chat?app_name=".concat(dn.app_name,"&page="),_=document.createElement("div");_.id="loading-message",_.textContent="";var w=document.getElementById("chatBody");w.prepend(_);var x=null;function C(e,t){var n=w.scrollHeight,r=w.scrollTop;e.forEach((function(e){It(w,e,e.type,!1,e.direction,t)}));var o=w.scrollHeight-n;w.scrollTop=r+o,x||((x=document.createElement("div")).id="last-message",w.prepend(x),L.observe(x))}function k(){return(k=Ot(Lt().mark((function e(){var t,n,r;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(m||v>0&&y>=v)){e.next=2;break}return e.abrupt("return");case 2:return m=!0,_.textContent="Loading...",e.prev=4,t="".concat(b).concat(y+1),e.next=8,f(t);case 8:(n=e.sent)&&(v=n.pagination.total_pages||v,y=n.pagination.current_page||y+1,n.messages&&n.messages.length&&C(n.messages.reverse(),!0),console.log("datadsfsdafasdf",n),console.log("datadsfsdafasdfprv_msgs_ls",n),r=n.messages.filter((function(e){return"READ"!==e.message.status})).map((function(e){return e.message.msg_id})),console.log("messagesNotReadSDFSD1111",r),r.length&&(console.log("sdfiuwhefijsqdhifsdasadddfsdff",o,r,"DELIVERED",dn.app_name,dn.tenant_info.id),V({type:"status",msg_ids:r,status:"READ"}),H(o,r,"READ",dn.app_name,dn.tenant_info.id))),e.next=15;break;case 12:e.prev=12,e.t0=e.catch(4),console.error("Error loading more messages:",e.t0);case 15:return e.prev=15,m=!1,_.textContent="",e.finish(15);case 19:case"end":return e.stop()}}),e,null,[[4,12,15,19]])})))).apply(this,arguments)}var E,L=new IntersectionObserver((function(e){e.forEach((function(e){e.isIntersecting&&(console.log("Top message in view, loading more messages..."),function(){k.apply(this,arguments)}())}))}),{root:w,threshold:1});if((E=Ot(Lt().mark((function e(){var t,n,r,i,s,a;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!dn){e.next=11;break}return t="".concat(b).concat(y),e.next=4,f(t);case 4:n=e.sent,console.log("datadsfsdafasdfprv_msgs_ls",n),r=n.messages.filter((function(e){return"READ"!==e.message.status})).map((function(e){return e.message.msg_id})),console.log("messagesNotReadSDFSD",r),r.length,r.length&&(V({type:"status",msg_ids:r,status:"READ"}),console.log("sdfiuwhefijsqdhifsdaf",o,r),H(o,r,"READ",dn.app_name,dn.tenant_info.id)),n&&(i=n.messages,s=n.pagination,v=s.total_pages||1,y=s.current_page||1,i&&i.length&&(w.innerHTML="",C(i),(a=w.firstElementChild)&&L.observe(a),w.scrollTop=w.scrollHeight));case 11:case"end":return e.stop()}}),e)}))),function(){return E.apply(this,arguments)})(),h.msgs.length){h.msgs.forEach((function(e){var t;updateNotificationBell(tezkit_app_data),e.message.hasOwnProperty("ret_id")&&(t=e.message.ret_id),console.log("HERE WE MIGHT WANNA SEND THE TYPE CORRECTLY??/",e),It(w,e,e.type,!0),e.message.frm_user.id!=dn.id&&informPeerSysAboutMsgStatus(o,t,"READ",dn.app_name,e.message.frm_user.id)}));var S={api_key:h.api_key,msgs:[]};localStorage.setItem("tezkit_msgs_unread_data",JSON.stringify(S))}console.log("do we ahve ahsdfsdtezkit_app_pdata",t),e(dn,t,At);var O=document.getElementById("leave-message"),A=document.getElementById("talk-to-bot"),T=function(){var e=document.getElementById("chatInputAdmin");if(dn){console.log("waht wouldd b ethe thent enatnt e jo",dn);var t={room:"global_for__"+dn.tenant_info.id,message:{message:e.value,timestamp:Date.now(),frm_user:{id:dn[Wt.name_idn]},to_user:{id:dn.tenant_info.id},app_name:dn.app_name}};if(e.value){var n=It(w,JSON.parse(JSON.stringify(t)),void 0,void 0,"SENT"),r=t.message.msg_id;console.log("werhwerwrwer ",r),t.message.ret_id=n,t.message.msg_id=t.message.ret_id,console.log(dn.app_name,"do we see any direc there????",t),o.emit("ON_MESSAGE_ARRIVAL_BOT",t),t.app_name=dn.app_name,function(e){var t=localStorage.getItem("tezkit_token"),n=new Headers,r=localStorage.getItem("tezkit_app_data"),o=null;"V1"==JSON.parse(r).settings.version?(n.append("Authorization",t),o=JSON.stringify({data:e})):o=JSON.stringify({data:e,uid:loggedInUser.uid}),n.append("Content-Type","application/json"),fetch("https://wtqbptd4j8.execute-api.ap-south-1.amazonaws.com/prod/add_chat",{method:"POST",headers:n,body:o,redirect:"follow"}).then((function(e){return e.text()})).then((function(e){return console.log(e)})).catch((function(e){return console.error(e)}))}(t),e.value=""}}else alert("kindly login first!")},N=function(){var e=document.querySelector(".input-conroller");e.style.display="flex",e.textContent="";var t,n=document.createElement("input");n.setAttribute("id","chatInputAdmin"),n.placeholder="Kindly type your message here.";var r=!1;n.addEventListener("input",(function(){r||(console.log("User started typing..."),r=!0,o.emit("TYPING_INDICATOR",{typing:!0,room:"global_for__"+dn.tenant_info.id,frm_user:{id:dn.id}})),clearTimeout(t),t=setTimeout((function(){console.log("User stopped typing..."),r=!1,o.emit("TYPING_INDICATOR",{typing:!1,room:"global_for__"+dn.tenant_info.id,frm_user:{id:dn.id}})}),5e3)}));var i=document.createElement("button");if(i.setAttribute("id","sendButton"),i.classList.add("sendButton"),i.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0618203 2.55899C-0.0340068 2.17686 -0.0181584 1.77526 0.107483 1.40187C0.233125 1.02849 0.463282 0.699003 0.770625 0.452541C1.07797 0.20608 1.44958 0.0529961 1.84135 0.0114686C2.23311 -0.0300588 2.62856 0.0417144 2.98074 0.218266L22.8607 10.1582C23.203 10.329 23.4909 10.5918 23.6921 10.9172C23.8934 11.2425 24 11.6175 24 12C24 12.3825 23.8934 12.7575 23.6921 13.0828C23.4909 13.4082 23.203 13.671 22.8607 13.8418L2.98074 23.7817C2.62856 23.9583 2.23311 24.0301 1.84135 23.9885C1.44958 23.947 1.07797 23.7939 0.770625 23.5475C0.463282 23.301 0.233125 22.9715 0.107483 22.5981C-0.0181584 22.2247 -0.0340068 21.8231 0.0618203 21.441L2.14358 13.1162L14.2323 12L2.14358 10.8838L0.0618203 2.55899Z" fill="white"/>\n</svg>\n',i.removeEventListener("click",T),i.addEventListener("click",T),Tt){var s=JSON.parse(Tt);s.chat_box_theme&&s.chat_box_theme.backgroundColor&&i&&(i.style.backgroundColor=s.chat_box_theme.backgroundColor)}e.appendChild(n),e.appendChild(i),document.querySelector("#leave-message").style.display="none";var a=document.querySelector("#talk-to-bot");a.innerHTML='<svg width="30" height="24" viewBox="0 0 30 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path d="M18.4956 7.45605H11.3305C9.90117 7.45605 8.73828 8.61889 8.73828 10.0483C8.73828 11.4777 9.90112 12.6405 11.3305 12.6405H18.4956C19.9249 12.6405 21.0878 11.4777 21.0878 10.0483C21.0878 8.61889 19.9249 7.45605 18.4956 7.45605ZM12.3986 10.3686C12.3986 10.8512 12.0074 11.2424 11.5248 11.2424C11.0423 11.2424 10.6511 10.8512 10.6511 10.3686V9.72784C10.6511 9.24528 11.0423 8.85405 11.5248 8.85405C12.0074 8.85405 12.3986 9.24528 12.3986 9.72784V10.3686ZM19.175 10.3686C19.175 10.8512 18.7837 11.2424 18.3012 11.2424C17.8186 11.2424 17.4274 10.8512 17.4274 10.3686V9.72784C17.4274 9.24528 17.8186 8.85405 18.3012 8.85405C18.7837 8.85405 19.175 9.24528 19.175 9.72784V10.3686Z" fill="white"/>\n<path d="M25.4563 12.1163V10.4274C25.4563 4.5861 20.7234 0 14.9126 0C9.09559 0 4.36893 4.5868 4.36893 10.4274V12.1163C4.36893 14.8115 6.56744 17.0097 9.26231 17.0097H20.5629C23.2578 17.0097 25.4563 14.8112 25.4563 12.1163ZM11.3301 14.3883C8.93715 14.3883 6.99029 12.4415 6.99029 10.0485C6.99029 7.65548 8.93709 5.70868 11.3301 5.70868H18.4951C20.8881 5.70868 22.835 7.65548 22.835 10.0485C22.835 12.4415 20.8881 14.3883 18.4951 14.3883H11.3301ZM19.4563 20.5049H17.534C16.5728 20.5049 15.7864 21.2913 15.7864 22.2524C15.7864 23.2136 16.5728 24 17.534 24H19.4563C20.4175 24 21.2039 23.2136 21.2039 22.2524C21.2039 21.2913 20.4175 20.5049 19.4563 20.5049ZM28.0777 17.8542C28.0777 19.7962 26.3967 21.4369 24.407 21.4369H22.8544C22.9188 21.704 22.9513 21.9777 22.9515 22.2524C22.9515 22.5752 22.9065 22.8875 22.8243 23.1845H24.407C27.344 23.1845 29.8252 20.7435 29.8252 17.8542V16.1464C29.317 16.5288 28.723 16.8031 28.0777 16.9347V17.8542ZM27.2039 6.47889H27.1283V1.42584C27.1283 0.943281 26.737 0.552058 26.2545 0.552058C25.7719 0.552058 25.3807 0.943281 25.3807 1.42584V4.00922C26.5682 5.91128 27.2039 8.11596 27.2039 10.4274V12.1163C27.2039 13.259 26.9138 14.3351 26.4034 15.275H27.2039C28.6493 15.275 29.8252 14.0991 29.8252 12.6537V9.10025C29.8252 7.65483 28.6493 6.47889 27.2039 6.47889ZM2.62136 10.4274C2.62136 8.11491 3.25707 5.90953 4.44449 4.00724V1.42584C4.44449 0.943281 4.05326 0.552058 3.5707 0.552058C3.08814 0.552058 2.69691 0.943281 2.69691 1.42584V6.47889H2.62136C1.17594 6.47889 0 7.65483 0 9.10025V12.6537C0 14.0991 1.17594 15.275 2.62136 15.275H3.42186C2.91146 14.3351 2.62136 13.259 2.62136 12.1163V10.4274Z" fill="white"/>\n</svg>\n',a.classList.remove("leave_mesg"),a.classList.add("sendButton"),a.style.display="block"},j=function(){var e=document.getElementById("chatBotInputVal");if(dn){console.log("waht wouldd b ethe thent enatnt e jo",dn);var t={room:"global_for__"+dn[Wt.name_idn],message:{message:e.value,timestamp:Date.now(),frm_user:{id:dn[Wt.name_idn]},app_name:dn.app_name}};if(e.value){var n=It(w,JSON.parse(JSON.stringify(t)),void 0,void 0,"SENT"),r=t.message.msg_id;console.log("werhwerwrwer ",r),t.message.ret_id=n,t.message.msg_id=t.message.ret_id,console.log(dn.app_name,"do we see any direc there????",t),o.emit("BOT_MSG_ARRIVAL",t),t.app_name=dn.app_name,e.value=""}}else alert("kindly login first!")},I=function(){var e=document.querySelector(".input-conroller");e.style.display="flex",e.textContent="";var t=document.createElement("input");t.setAttribute("id","chatBotInputVal"),t.placeholder="Type your Ques here for bot.";var n=document.createElement("button");if(n.setAttribute("id","sendBotButton"),n.classList.add("sendButton"),n.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<path fill-rule="evenodd" clip-rule="evenodd" d="M0.0618203 2.55899C-0.0340068 2.17686 -0.0181584 1.77526 0.107483 1.40187C0.233125 1.02849 0.463282 0.699003 0.770625 0.452541C1.07797 0.20608 1.44958 0.0529961 1.84135 0.0114686C2.23311 -0.0300588 2.62856 0.0417144 2.98074 0.218266L22.8607 10.1582C23.203 10.329 23.4909 10.5918 23.6921 10.9172C23.8934 11.2425 24 11.6175 24 12C24 12.3825 23.8934 12.7575 23.6921 13.0828C23.4909 13.4082 23.203 13.671 22.8607 13.8418L2.98074 23.7817C2.62856 23.9583 2.23311 24.0301 1.84135 23.9885C1.44958 23.947 1.07797 23.7939 0.770625 23.5475C0.463282 23.301 0.233125 22.9715 0.107483 22.5981C-0.0181584 22.2247 -0.0340068 21.8231 0.0618203 21.441L2.14358 13.1162L14.2323 12L2.14358 10.8838L0.0618203 2.55899Z" fill="white"/>\n</svg>\n',n.removeEventListener("click",j),n.addEventListener("click",j),Tt){var r=JSON.parse(Tt);r.chat_box_theme&&r.chat_box_theme.backgroundColor&&n&&(n.style.backgroundColor=r.chat_box_theme.backgroundColor)}e.appendChild(t),e.appendChild(n),document.querySelector("#talk-to-bot").style.display="none";var o=document.querySelector("#leave-message");o.innerHTML='<svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n        <g clip-path="url(#clip0_54_65)">\n        <path d="M21.1739 0H6.72565C5.16485 0 3.89941 1.26525 3.89941 2.82623V11.1162C3.89941 12.6769 5.16485 13.9424 6.72565 13.9424H15.1946V16.9219C15.1946 17.3921 15.763 17.6273 16.0955 17.295L19.4482 13.9422H21.1739C22.7349 13.9422 24.0002 12.6769 24.0002 11.116V2.82623C24.0002 1.2653 22.7349 0 21.1739 0Z" fill="white"/>\n        <path d="M8.21588 4.60366H8.26145C8.49235 4.60366 8.67948 4.79083 8.67948 5.02155V8.44398H10.2405C10.3513 8.44401 10.4575 8.48804 10.5359 8.5664C10.6142 8.64475 10.6583 8.75102 10.6583 8.86183C10.6583 9.09273 10.4712 9.27986 10.2405 9.27986H8.22357C8.11066 9.27986 8.00238 9.23501 7.92254 9.15517C7.8427 9.07533 7.79785 8.96705 7.79785 8.85414V5.02155C7.79785 4.79083 7.98498 4.60366 8.21588 4.60366ZM11.6799 4.60366H11.7256C11.8365 4.60368 11.9427 4.64772 12.0211 4.72608C12.0995 4.80445 12.1435 4.91073 12.1435 5.02155V8.86183C12.1435 9.09273 11.9563 9.27986 11.7256 9.27986H11.6799C11.625 9.27987 11.5706 9.26906 11.5199 9.24805C11.4691 9.22705 11.4231 9.19625 11.3842 9.15743C11.3454 9.11862 11.3146 9.07253 11.2936 9.02181C11.2726 8.97109 11.2618 8.91673 11.2618 8.86183V5.02155C11.2618 4.79083 11.4489 4.60366 11.6799 4.60366ZM13.0921 4.60366H13.1564C13.2435 4.60366 13.3284 4.63085 13.3993 4.68144C13.4702 4.73203 13.5235 4.80349 13.5518 4.88584L14.4213 7.41859L14.5912 8.01934H14.6434L14.8263 7.41859L15.7331 4.88092C15.762 4.79974 15.8154 4.7295 15.8858 4.67984C15.9563 4.63018 16.0404 4.60352 16.1266 4.60352H16.1884C16.4785 4.60352 16.6805 4.89208 16.5811 5.16475L15.239 8.84645C15.1927 8.97343 15.1084 9.0831 14.9976 9.16059C14.8869 9.23808 14.755 9.27965 14.6198 9.27967C14.4835 9.27972 14.3505 9.23748 14.2392 9.15877C14.1279 9.08006 14.0437 8.96876 13.9983 8.84022L12.6981 5.16072C12.602 4.88898 12.8038 4.60366 13.0921 4.60366ZM18.0186 5.43958V6.52375H19.475C19.7057 6.52375 19.8929 6.71087 19.8929 6.94178C19.8929 7.17269 19.7057 7.35981 19.475 7.35981H18.0186V8.4438H19.6839C19.7388 8.44379 19.7932 8.4546 19.8439 8.4756C19.8946 8.49661 19.9407 8.5274 19.9796 8.56622C20.0184 8.60504 20.0492 8.65113 20.0702 8.70185C20.0912 8.75257 20.102 8.80693 20.102 8.86183C20.102 9.09255 19.9149 9.27967 19.6839 9.27967H17.5625C17.3275 9.27967 17.1369 9.08903 17.1369 8.85414V5.02923C17.1369 4.7943 17.3275 4.6037 17.5625 4.6037H19.6839C19.9149 4.6037 20.102 4.79083 20.102 5.02155C20.102 5.07645 20.0912 5.13081 20.0702 5.18153C20.0492 5.23225 20.0184 5.27833 19.9796 5.31715C19.9407 5.35597 19.8946 5.38676 19.8439 5.40777C19.7932 5.42878 19.7388 5.43958 19.6839 5.43958H18.0186Z" fill="#A370CE"/>\n        <path d="M21.1739 0H6.72565C5.16485 0 3.89941 1.26525 3.89941 2.82623V3.48248C3.89941 1.92155 5.16485 0.65625 6.72565 0.65625H21.1739C22.7349 0.65625 24.0002 1.9215 24.0002 3.48248V2.82623C24.0002 1.2653 22.7349 0 21.1739 0Z" fill="#FFE2D7"/>\n        <path d="M10.4941 19.4307L8.53252 18.7861H3.2633L1.29656 19.4312C0.522938 19.6848 0 20.4068 0 21.2209V23.9995H11.7898V21.2202C11.7898 20.4064 11.2672 19.6846 10.4941 19.4307Z" fill="#FF8354"/>\n        <path d="M4.00879 17.9443H7.78082V19.5403H4.00879V17.9443Z" fill="#5FD4E3"/>\n        <path d="M6.5481 21.1368H5.24216L4.95215 19.541H6.83812L6.5481 21.1368Z" fill="#F0F1FF"/>\n        <path d="M2.70312 18.9598L4.58928 20.991L5.89503 19.5403L4.00902 17.9443L2.70312 18.9598Z" fill="#FE713B"/>\n        <path d="M6.8979 24.0003L6.54779 21.1367H5.2419L4.8916 24.0003H6.8979Z" fill="white"/>\n        <path d="M8.03678 10.2282C7.9458 9.87626 7.55744 9.37765 6.08631 9.37765C3.8133 9.37765 3.48972 9.71422 2.88475 9.13283C2.37428 8.64251 2.0747 11.0029 2.75514 11.7525C2.4678 12.8143 2.69763 13.8777 2.69763 13.8777H9.09278C9.09278 13.8777 9.62946 11.3937 8.03678 10.2282Z" fill="#263238"/>\n        <path d="M2.88481 9.7162C3.48963 10.2976 3.81335 9.96088 6.08637 9.96088C7.55749 9.96088 7.94585 10.4594 8.03684 10.8114C8.8819 11.4297 9.12743 12.4194 9.17173 13.2122C9.21607 12.3925 9.10798 11.0119 8.03688 10.228C7.94585 9.87623 7.55749 9.37748 6.08641 9.37748C3.81335 9.37748 3.48977 9.71404 2.88485 9.13284C2.54862 8.80987 2.30384 9.72356 2.3703 10.5991C2.41901 9.95774 2.62441 9.46593 2.88481 9.7162Z" fill="black"/>\n        <path d="M7.34464 16.3488H4.4457V18.3136L5.89517 19.5402L7.3459 18.3127L7.34464 16.3488ZM3.34339 13.9886C3.34339 13.9886 3.06767 13.4834 2.51633 13.4834C1.96498 13.4834 1.57423 15.9077 3.34339 15.5036V13.9886ZM8.44691 13.9886C8.44691 13.9886 8.72253 13.4834 9.27401 13.4834C9.82536 13.4834 10.2159 15.9077 8.44691 15.5036V13.9886Z" fill="#FFE4D1"/>\n        <path d="M5.89487 10.7402C1.67045 10.7402 2.47815 17.6686 5.89487 17.6686C9.31159 17.6686 10.1192 10.7402 5.89487 10.7402Z" fill="#FFEFE4"/>\n        <path d="M5.86482 10.3569C5.86482 10.3569 3.00488 9.95349 3.00488 13.6229C3.00488 13.6229 3.36502 12.1062 4.19101 11.6926C4.5759 11.4999 4.71671 11.988 5.86477 11.988C7.01284 11.988 7.15365 11.5 7.53854 11.6926C8.36471 12.1062 8.72471 13.6229 8.72471 13.6229C8.72471 9.95349 5.86482 10.3569 5.86482 10.3569Z" fill="#333399"/>\n        <path d="M5.89483 10.3638C5.89483 10.3638 3.02148 9.95834 3.02148 13.6452C3.02148 13.6452 3.38331 12.1212 4.21333 11.7057C4.59986 11.5122 4.74137 12.0026 5.89497 12.0026C7.04833 12.0026 7.18989 11.5122 7.57637 11.7057C8.40662 12.1212 8.76827 13.6452 8.76827 13.6452C8.76808 9.95834 5.89483 10.3638 5.89483 10.3638Z" fill="#263238"/>\n        <path d="M9.08644 18.9598L7.20023 20.991L5.89453 19.5403L7.7805 17.9443L9.08644 18.9598Z" fill="#FE713B"/>\n        <path d="M0 23.3438H11.7898V24H0V23.3438Z" fill="#FE713B"/>\n        <path d="M4.97176 23.3438L4.8916 24H6.89785L6.8177 23.3438H4.97176Z" fill="#F0F1FF"/>\n        <path d="M9.81666 16.1471H8.90934C8.88892 16.1471 8.86869 16.1431 8.84982 16.1353C8.83096 16.1275 8.81382 16.116 8.79938 16.1015C8.78495 16.0871 8.7735 16.0699 8.7657 16.0511C8.75789 16.0322 8.75389 16.0119 8.75391 15.9915V13.3246C8.75389 13.3041 8.75789 13.2839 8.7657 13.265C8.7735 13.2462 8.78495 13.229 8.79938 13.2146C8.81382 13.2001 8.83096 13.1886 8.84982 13.1808C8.86869 13.173 8.88892 13.169 8.90934 13.1689H9.81666C9.83708 13.169 9.85731 13.173 9.87618 13.1808C9.89504 13.1886 9.91219 13.2001 9.92662 13.2146C9.94106 13.229 9.9525 13.2462 9.9603 13.265C9.96811 13.2839 9.97211 13.3041 9.97209 13.3246V15.9915C9.97211 16.0119 9.96811 16.0321 9.9603 16.051C9.9525 16.0699 9.94106 16.087 9.92662 16.1015C9.91219 16.1159 9.89504 16.1274 9.87618 16.1352C9.85731 16.1431 9.83708 16.1471 9.81666 16.1471V16.1471Z" fill="white"/>\n        <path d="M9.94591 15.4325V13.8838C10.209 13.8838 10.4225 14.0971 10.4225 14.3605V14.9561C10.4225 15.2192 10.209 15.4325 9.94591 15.4325ZM1.8446 15.4325C1.58145 15.4325 1.36816 15.2192 1.36816 14.9561V14.3605C1.36816 14.0971 1.58145 13.8838 1.8446 13.8838V15.4325Z" fill="#FF8354"/>\n        <path d="M2.90748 16.1471H2.00035C1.97991 16.1472 1.95967 16.1431 1.94078 16.1353C1.9219 16.1275 1.90473 16.116 1.89028 16.1016C1.87583 16.0871 1.86436 16.07 1.85655 16.0511C1.84873 16.0322 1.84471 16.012 1.84473 15.9915V13.3246C1.84471 13.3041 1.84873 13.2839 1.85655 13.265C1.86436 13.2461 1.87583 13.229 1.89028 13.2145C1.90473 13.2 1.9219 13.1886 1.94078 13.1808C1.95967 13.173 1.97991 13.1689 2.00035 13.1689H2.90748C2.92792 13.1689 2.94816 13.173 2.96705 13.1808C2.98593 13.1886 3.00309 13.2 3.01755 13.2145C3.032 13.229 3.04346 13.2461 3.05128 13.265C3.0591 13.2839 3.06311 13.3041 3.0631 13.3246V15.9915C3.0631 16.0328 3.04671 16.0723 3.01752 16.1015C2.98833 16.1307 2.94875 16.1471 2.90748 16.1471V16.1471Z" fill="white"/>\n        <path d="M9.56484 13.1691H9.13477C9.13477 11.514 7.78819 10.1674 6.13312 10.1674H5.67C4.01494 10.1674 2.66841 11.514 2.66841 13.1691H2.23828C2.23828 11.2768 3.77784 9.7373 5.67 9.7373H6.13312C8.02533 9.7373 9.56484 11.2769 9.56484 13.169V13.1691ZM9.13477 16.1475C9.13477 17.0143 8.42944 17.7196 7.56281 17.7196H7.34109C7.30706 17.6721 7.26217 17.6333 7.21016 17.6066C7.15814 17.5799 7.10051 17.5659 7.04203 17.5659H6.49055C6.28692 17.5659 6.12197 17.7311 6.12197 17.9348C6.12197 18.1384 6.28697 18.3033 6.49055 18.3033H7.04203C7.1005 18.3033 7.15813 18.2894 7.21013 18.2627C7.26214 18.236 7.30704 18.1973 7.34109 18.1497H7.56281C8.66658 18.1497 9.5647 17.2516 9.5647 16.1476H9.13477V16.1475Z" fill="#F0F0F0"/>\n        </g>\n        <defs>\n        <clipPath id="clip0_54_65">\n        <rect width="24" height="24" fill="white"/>\n        </clipPath>\n        </defs>\n        </svg>\n\n        ',o.classList.remove("leave_mesg"),o.classList.add("sendButton"),o.style.display="block"};O.removeEventListener("click",N),O.addEventListener("click",N),A.removeEventListener("click",I),A.addEventListener("click",I)}var jt=768;function It(e,t){var n,r,o,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"REGULAR",s=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:"RECEIVED",c=arguments.length>5?arguments[5]:void 0,l=null;if(console.log("here are weroirewjtereq rewi",e,i,s,a),t.message.msg_id||(n=function(e,t){console.log("hwomanytimes",t);var n="".concat(Date.now().toString().slice(-5)).concat(Math.floor(10*Math.random()));return console.log(n),"msg_id__"+n}(0,"isittrueit's running twice"),t.message.msg_id=n),console.log("so this message type is never com",t),"REGULAR"==i){var u=document.createElement("div");u.classList.add("message");var d=new Date(t.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});u.innerHTML="\n            <div>\n            <p>".concat(t.message.message,'</p>\n            <span class="timestamp">').concat(d,"</span>\n            </div>\n        "),l=u}else if("BOT"==i){var p=document.createElement("div");p.classList.add("message");var h=new Date(t.message.timestamp).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"});p.innerHTML="\n            <div>\n            <p>".concat(t.message.message,'</p>\n            <span class="timestamp">').concat(h,"</span>\n            </div>\n        "),l=p}else if("REPLY"==i){var f=document.createElement("div");f.classList.add("message","admin");var g=document.createElement("div");g.classList.add("reply-message");var m=t.message.timestamp||Date.now();g.innerHTML='\n          <div class="original-message">\n            <p>'.concat(t.message.to_msg.msg,'</p>\n          </div>\n          <div class="reply-content">\n            <p>').concat(t.message.message,'</p>\n            <span class="time">').concat(m,"</span>\n          </div>\n        "),f.appendChild(g),l=f}else if("NEW_FILE_MIXED_V1"===i){var y=document.createElement("div");y.classList.add("message");var v=document.createElement("div");console.log("jere is ian obj",t,i),t.message.result.forEach((function(e){var t=document.createElement("p");e.forEach((function(e){if("text"===e.type){var n=document.createTextNode(e.value);t.appendChild(n)}else if("img"===e.type){var r=document.createElement("div");r.style.position="relative",r.style.display="inline-block";var o=document.createElement("img");o.src=e.value,o.alt="Image",o.style.maxWidth="100%",o.style.cursor="pointer",o.addEventListener("click",(function(){window.open(e.value,"_blank")}));var i=document.createElement("button");i.textContent="Download",i.style.position="absolute",i.style.bottom="10px",i.style.right="10px",i.style.padding="5px 10px",i.style.backgroundColor="rgba(0, 0, 0, 0.7)",i.style.color="white",i.style.border="none",i.style.borderRadius="5px",i.style.cursor="pointer",i.style.display="none",i.style.zIndex="10",i.addEventListener("click",(function(t){t.stopPropagation();var n=document.createElement("a");n.href=e.value,n.download="downloaded-image",n.click()})),r.addEventListener("mouseover",(function(){i.style.display="block"})),r.addEventListener("mouseout",(function(){i.style.display="none"})),r.appendChild(o),r.appendChild(i),t.appendChild(r)}})),v.appendChild(t)})),v.setAttribute("class","file-mixed-content"),v.style.margin="15px",y.appendChild(v),l=y}if(l){var b=localStorage.getItem("theme");if(b){var _=JSON.parse(b);_.chat_box_theme&&(_.chat_box_theme.textColor&&(l.style.color=_.chat_box_theme.textColor),_.chat_box_theme.backgroundColor&&(l.style.backgroundColor=_.chat_box_theme.backgroundColor))}var w=document.createElement("div");w.classList.add("message-container"),w.setAttribute("id",t.message.msg_id),w.appendChild(l),a&&(t.direction=a,"SENT"==a?l.classList.add("left_side"):l.classList.add("admin")),s&&(r=t,o=localStorage.getItem("tezkit_msgs_read_data"),JSON.parse(o).msgs.push(r)),t.message.reaction&&(console.log("is there a difference?",l,t.message.reaction),updateMessageReaction(l,t.message.reaction)),c?e.prepend(w):e.appendChild(w)}return n}function Rt(){return(Rt=Ot(Lt().mark((function e(t,n){var r,o,i,s,a,c,l,u,d,p;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.tenantName,o=t.otherUserId,i=t.appName,s=t.version,a=new URLSearchParams({type:"user_type",tenant_name:r,user_id:o,app_name:i,version:s}),c="".concat("https://tjlin02sxa.execute-api.ap-south-1.amazonaws.com/prod/get_app","?").concat(a),l=new Headers,u={method:"GET",headers:l,redirect:"follow"},e.prev=6,e.next=9,fetch(c,u);case 9:if((d=e.sent).ok){e.next=12;break}throw new Error("HTTP error! Status: ".concat(d.status));case 12:return e.next=14,d.json();case 14:return p=e.sent,console.log("Result:",p),n(p),e.abrupt("return",p);case 20:throw e.prev=20,e.t0=e.catch(6),console.error("Error fetching data:",e.t0),e.t0;case 24:case"end":return e.stop()}}),e,null,[[6,20]])})))).apply(this,arguments)}function Bt(e,t){var n=document.createElement("div");n.textContent=e||"Feel Free to Shoot what's on your mind!",t.appendChild(n),t.style.opacity="1",t.style.display="block",t.classList.add("welcomemsg");var r=0,o=setInterval((function(){r>=1?clearInterval(o):(r+=.05,t.style.opacity=r)}),50);setTimeout((function(){var e=1,n=setInterval((function(){e<=0?(clearInterval(n),t.style.display="none"):(e-=.05,t.style.opacity=e)}),50)}),5e3)}function Vt(e){var t=document.querySelector("#statusElement > .user_status_cir");if(console.log("gota trigger ls",t,e,Et(e)),t){t.style.width="16px",t.style.height="16px",t.style.borderRadius="50%";var n=document.getElementById("leave-message");if(!0===e)t.textContent="",t.style.background="green",n.innerHTML='<span>\n      <svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n<g clip-path="url(#clip0_54_65)">\n<path d="M21.1739 0H6.72565C5.16485 0 3.89941 1.26525 3.89941 2.82623V11.1162C3.89941 12.6769 5.16485 13.9424 6.72565 13.9424H15.1946V16.9219C15.1946 17.3921 15.763 17.6273 16.0955 17.295L19.4482 13.9422H21.1739C22.7349 13.9422 24.0002 12.6769 24.0002 11.116V2.82623C24.0002 1.2653 22.7349 0 21.1739 0Z" fill="white"/>\n<path d="M8.21588 4.60366H8.26145C8.49235 4.60366 8.67948 4.79083 8.67948 5.02155V8.44398H10.2405C10.3513 8.44401 10.4575 8.48804 10.5359 8.5664C10.6142 8.64475 10.6583 8.75102 10.6583 8.86183C10.6583 9.09273 10.4712 9.27986 10.2405 9.27986H8.22357C8.11066 9.27986 8.00238 9.23501 7.92254 9.15517C7.8427 9.07533 7.79785 8.96705 7.79785 8.85414V5.02155C7.79785 4.79083 7.98498 4.60366 8.21588 4.60366ZM11.6799 4.60366H11.7256C11.8365 4.60368 11.9427 4.64772 12.0211 4.72608C12.0995 4.80445 12.1435 4.91073 12.1435 5.02155V8.86183C12.1435 9.09273 11.9563 9.27986 11.7256 9.27986H11.6799C11.625 9.27987 11.5706 9.26906 11.5199 9.24805C11.4691 9.22705 11.4231 9.19625 11.3842 9.15743C11.3454 9.11862 11.3146 9.07253 11.2936 9.02181C11.2726 8.97109 11.2618 8.91673 11.2618 8.86183V5.02155C11.2618 4.79083 11.4489 4.60366 11.6799 4.60366ZM13.0921 4.60366H13.1564C13.2435 4.60366 13.3284 4.63085 13.3993 4.68144C13.4702 4.73203 13.5235 4.80349 13.5518 4.88584L14.4213 7.41859L14.5912 8.01934H14.6434L14.8263 7.41859L15.7331 4.88092C15.762 4.79974 15.8154 4.7295 15.8858 4.67984C15.9563 4.63018 16.0404 4.60352 16.1266 4.60352H16.1884C16.4785 4.60352 16.6805 4.89208 16.5811 5.16475L15.239 8.84645C15.1927 8.97343 15.1084 9.0831 14.9976 9.16059C14.8869 9.23808 14.755 9.27965 14.6198 9.27967C14.4835 9.27972 14.3505 9.23748 14.2392 9.15877C14.1279 9.08006 14.0437 8.96876 13.9983 8.84022L12.6981 5.16072C12.602 4.88898 12.8038 4.60366 13.0921 4.60366ZM18.0186 5.43958V6.52375H19.475C19.7057 6.52375 19.8929 6.71087 19.8929 6.94178C19.8929 7.17269 19.7057 7.35981 19.475 7.35981H18.0186V8.4438H19.6839C19.7388 8.44379 19.7932 8.4546 19.8439 8.4756C19.8946 8.49661 19.9407 8.5274 19.9796 8.56622C20.0184 8.60504 20.0492 8.65113 20.0702 8.70185C20.0912 8.75257 20.102 8.80693 20.102 8.86183C20.102 9.09255 19.9149 9.27967 19.6839 9.27967H17.5625C17.3275 9.27967 17.1369 9.08903 17.1369 8.85414V5.02923C17.1369 4.7943 17.3275 4.6037 17.5625 4.6037H19.6839C19.9149 4.6037 20.102 4.79083 20.102 5.02155C20.102 5.07645 20.0912 5.13081 20.0702 5.18153C20.0492 5.23225 20.0184 5.27833 19.9796 5.31715C19.9407 5.35597 19.8946 5.38676 19.8439 5.40777C19.7932 5.42878 19.7388 5.43958 19.6839 5.43958H18.0186Z" fill="#A370CE"/>\n<path d="M21.1739 0H6.72565C5.16485 0 3.89941 1.26525 3.89941 2.82623V3.48248C3.89941 1.92155 5.16485 0.65625 6.72565 0.65625H21.1739C22.7349 0.65625 24.0002 1.9215 24.0002 3.48248V2.82623C24.0002 1.2653 22.7349 0 21.1739 0Z" fill="#FFE2D7"/>\n<path d="M10.4941 19.4307L8.53252 18.7861H3.2633L1.29656 19.4312C0.522938 19.6848 0 20.4068 0 21.2209V23.9995H11.7898V21.2202C11.7898 20.4064 11.2672 19.6846 10.4941 19.4307Z" fill="#FF8354"/>\n<path d="M4.00879 17.9443H7.78082V19.5403H4.00879V17.9443Z" fill="#5FD4E3"/>\n<path d="M6.5481 21.1368H5.24216L4.95215 19.541H6.83812L6.5481 21.1368Z" fill="#F0F1FF"/>\n<path d="M2.70312 18.9598L4.58928 20.991L5.89503 19.5403L4.00902 17.9443L2.70312 18.9598Z" fill="#FE713B"/>\n<path d="M6.8979 24.0003L6.54779 21.1367H5.2419L4.8916 24.0003H6.8979Z" fill="white"/>\n<path d="M8.03678 10.2282C7.9458 9.87626 7.55744 9.37765 6.08631 9.37765C3.8133 9.37765 3.48972 9.71422 2.88475 9.13283C2.37428 8.64251 2.0747 11.0029 2.75514 11.7525C2.4678 12.8143 2.69763 13.8777 2.69763 13.8777H9.09278C9.09278 13.8777 9.62946 11.3937 8.03678 10.2282Z" fill="#263238"/>\n<path d="M2.88481 9.7162C3.48963 10.2976 3.81335 9.96088 6.08637 9.96088C7.55749 9.96088 7.94585 10.4594 8.03684 10.8114C8.8819 11.4297 9.12743 12.4194 9.17173 13.2122C9.21607 12.3925 9.10798 11.0119 8.03688 10.228C7.94585 9.87623 7.55749 9.37748 6.08641 9.37748C3.81335 9.37748 3.48977 9.71404 2.88485 9.13284C2.54862 8.80987 2.30384 9.72356 2.3703 10.5991C2.41901 9.95774 2.62441 9.46593 2.88481 9.7162Z" fill="black"/>\n<path d="M7.34464 16.3488H4.4457V18.3136L5.89517 19.5402L7.3459 18.3127L7.34464 16.3488ZM3.34339 13.9886C3.34339 13.9886 3.06767 13.4834 2.51633 13.4834C1.96498 13.4834 1.57423 15.9077 3.34339 15.5036V13.9886ZM8.44691 13.9886C8.44691 13.9886 8.72253 13.4834 9.27401 13.4834C9.82536 13.4834 10.2159 15.9077 8.44691 15.5036V13.9886Z" fill="#FFE4D1"/>\n<path d="M5.89487 10.7402C1.67045 10.7402 2.47815 17.6686 5.89487 17.6686C9.31159 17.6686 10.1192 10.7402 5.89487 10.7402Z" fill="#FFEFE4"/>\n<path d="M5.86482 10.3569C5.86482 10.3569 3.00488 9.95349 3.00488 13.6229C3.00488 13.6229 3.36502 12.1062 4.19101 11.6926C4.5759 11.4999 4.71671 11.988 5.86477 11.988C7.01284 11.988 7.15365 11.5 7.53854 11.6926C8.36471 12.1062 8.72471 13.6229 8.72471 13.6229C8.72471 9.95349 5.86482 10.3569 5.86482 10.3569Z" fill="#333399"/>\n<path d="M5.89483 10.3638C5.89483 10.3638 3.02148 9.95834 3.02148 13.6452C3.02148 13.6452 3.38331 12.1212 4.21333 11.7057C4.59986 11.5122 4.74137 12.0026 5.89497 12.0026C7.04833 12.0026 7.18989 11.5122 7.57637 11.7057C8.40662 12.1212 8.76827 13.6452 8.76827 13.6452C8.76808 9.95834 5.89483 10.3638 5.89483 10.3638Z" fill="#263238"/>\n<path d="M9.08644 18.9598L7.20023 20.991L5.89453 19.5403L7.7805 17.9443L9.08644 18.9598Z" fill="#FE713B"/>\n<path d="M0 23.3438H11.7898V24H0V23.3438Z" fill="#FE713B"/>\n<path d="M4.97176 23.3438L4.8916 24H6.89785L6.8177 23.3438H4.97176Z" fill="#F0F1FF"/>\n<path d="M9.81666 16.1471H8.90934C8.88892 16.1471 8.86869 16.1431 8.84982 16.1353C8.83096 16.1275 8.81382 16.116 8.79938 16.1015C8.78495 16.0871 8.7735 16.0699 8.7657 16.0511C8.75789 16.0322 8.75389 16.0119 8.75391 15.9915V13.3246C8.75389 13.3041 8.75789 13.2839 8.7657 13.265C8.7735 13.2462 8.78495 13.229 8.79938 13.2146C8.81382 13.2001 8.83096 13.1886 8.84982 13.1808C8.86869 13.173 8.88892 13.169 8.90934 13.1689H9.81666C9.83708 13.169 9.85731 13.173 9.87618 13.1808C9.89504 13.1886 9.91219 13.2001 9.92662 13.2146C9.94106 13.229 9.9525 13.2462 9.9603 13.265C9.96811 13.2839 9.97211 13.3041 9.97209 13.3246V15.9915C9.97211 16.0119 9.96811 16.0321 9.9603 16.051C9.9525 16.0699 9.94106 16.087 9.92662 16.1015C9.91219 16.1159 9.89504 16.1274 9.87618 16.1352C9.85731 16.1431 9.83708 16.1471 9.81666 16.1471V16.1471Z" fill="white"/>\n<path d="M9.94591 15.4325V13.8838C10.209 13.8838 10.4225 14.0971 10.4225 14.3605V14.9561C10.4225 15.2192 10.209 15.4325 9.94591 15.4325ZM1.8446 15.4325C1.58145 15.4325 1.36816 15.2192 1.36816 14.9561V14.3605C1.36816 14.0971 1.58145 13.8838 1.8446 13.8838V15.4325Z" fill="#FF8354"/>\n<path d="M2.90748 16.1471H2.00035C1.97991 16.1472 1.95967 16.1431 1.94078 16.1353C1.9219 16.1275 1.90473 16.116 1.89028 16.1016C1.87583 16.0871 1.86436 16.07 1.85655 16.0511C1.84873 16.0322 1.84471 16.012 1.84473 15.9915V13.3246C1.84471 13.3041 1.84873 13.2839 1.85655 13.265C1.86436 13.2461 1.87583 13.229 1.89028 13.2145C1.90473 13.2 1.9219 13.1886 1.94078 13.1808C1.95967 13.173 1.97991 13.1689 2.00035 13.1689H2.90748C2.92792 13.1689 2.94816 13.173 2.96705 13.1808C2.98593 13.1886 3.00309 13.2 3.01755 13.2145C3.032 13.229 3.04346 13.2461 3.05128 13.265C3.0591 13.2839 3.06311 13.3041 3.0631 13.3246V15.9915C3.0631 16.0328 3.04671 16.0723 3.01752 16.1015C2.98833 16.1307 2.94875 16.1471 2.90748 16.1471V16.1471Z" fill="white"/>\n<path d="M9.56484 13.1691H9.13477C9.13477 11.514 7.78819 10.1674 6.13312 10.1674H5.67C4.01494 10.1674 2.66841 11.514 2.66841 13.1691H2.23828C2.23828 11.2768 3.77784 9.7373 5.67 9.7373H6.13312C8.02533 9.7373 9.56484 11.2769 9.56484 13.169V13.1691ZM9.13477 16.1475C9.13477 17.0143 8.42944 17.7196 7.56281 17.7196H7.34109C7.30706 17.6721 7.26217 17.6333 7.21016 17.6066C7.15814 17.5799 7.10051 17.5659 7.04203 17.5659H6.49055C6.28692 17.5659 6.12197 17.7311 6.12197 17.9348C6.12197 18.1384 6.28697 18.3033 6.49055 18.3033H7.04203C7.1005 18.3033 7.15813 18.2894 7.21013 18.2627C7.26214 18.236 7.30704 18.1973 7.34109 18.1497H7.56281C8.66658 18.1497 9.5647 17.2516 9.5647 16.1476H9.13477V16.1475Z" fill="#F0F0F0"/>\n</g>\n<defs>\n<clipPath id="clip0_54_65">\n<rect width="24" height="24" fill="white"/>\n</clipPath>\n</defs>\n</svg>\n\n     </span>\n Talk To Live Human';else if(!1===e){t.textContent="",t.style.background="#a99bbe";var r="chatModal__"+F,o=document.getElementById(r).querySelector(".chat_notice");o.textContent="",Bt("We are currently offline, But you can still send a message; will get back to you asap.",o),n.innerText="Leave A Message"}}}function Pt(e,t,n){return Ft.apply(this,arguments)}function Ft(){return Ft=Ot(Lt().mark((function e(t,n,r){var o,i,s,a,c,l,u,d,p,h,f,g;return Lt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log(r,"loggedInUser, tezkit_app_pdata, chat_modal",o),o=document.getElementById("chatModal__"+F),r?o.style.display="none":(i=window.innerWidth,o.style.display=i<jt?"flex":"block"),!t){e.next=30;break}if(s=o.querySelector(".chat_header"),Tt&&(a=JSON.parse(Tt)).chat_box_theme&&(a.chat_box_theme.textColor&&(s.style.color=a.chat_box_theme.textColor),a.chat_box_theme.backgroundColor&&(console.log("overriding them preferences!!!"),s.style.backgroundColor=a.chat_box_theme.backgroundColor)),c=s.querySelector("h3"),l=s.querySelector("#statusElement > .user_status_cir"),console.log("dowerelly have an identifier here for all versions",Wt),console.log("sdfsdfsdtezkit_app_pdataaffd",n.settings),!n.settings.version){e.next=28;break}if(console.log("sdfuhosdh arew wer eroeiegndfg",n.tenant_id),!(u=localStorage.getItem("tezkit_me"))){e.next=28;break}if(d=JSON.parse(u),console.log("tezkit_me_pdatasfsfsdfsd",d),!t){e.next=28;break}if(console.log(t,"sdfsdfsdhfsdhftezkit_me_pdata",n),"V1"==n.settings.version){e.next=27;break}return console.log("tezkit_app_p_dataewsedfsdfasdfsd",n,n.auth_key,t),e.next=22,check_if_user_exists(n.auth_key,n.app_name,t.uid,n.tenant_id);case 22:p=e.sent,console.log("fasdfasdfsdfuserExist",p),p.success?c.textContent=d&&d.tenant_info&&d.tenant_info.full_name||"Admin":(console.log("faltu ki baate",p.success),c.textContent="Error Loading User",console.log("chaewrewrewrewrchatBody",chatBody),h=document.createElement("div"),chatBody.textContent="",h.textContent="Invalid User",h.style.color="red",chatBody.appendChild(h),f=document.querySelector(".chat_modal__j7hD9nXt3QpLvFz1uY6j7m2"),(g=f.querySelector("#sendButton"))?(g.disabled=!0,g.setAttribute("title","✖ disabled"),console.log("Button disabled with hover message")):console.log("Send button not found")),e.next=28;break;case 27:c.textContent=d&&d.tenant_info&&d.tenant_info.full_name||"Admin";case 28:R(n.beta_toggle,"P2A","live_status")&&(l.textContent="",l.style.background="#a99bbe");case 30:r=!r;case 31:case"end":return e.stop()}}),e)}))),Ft.apply(this,arguments)}var Ht=function(e,t){At=!At,console.log("dowserjwqerweqrhaveit",e,t),Pt(e,t,At)};function Mt(e,t){var n=localStorage.getItem("theme"),r=JSON.parse(n),o=document.createElement("div");o.setAttribute("id","chat_modal_opener__"+F),o.style.display="flex",o.style.alignItems="center",o.style.justifyContent="center",o.style.backgroundColor="#A370CE",r&&r.chat_opener_theme&&(o.style.backgroundColor=r.chat_opener_theme.backgroundColor),o.style.height="50px",o.style.width="50px",o.style.borderRadius="50%",o.style.boxShadow="0px 4px 10px rgba(0, 0, 0, 0.1)",o.style.marginRight="10px",o.style.cursor="pointer";var i=document.createElement("i");i.classList.add("fas","fa-comments"),i.style.color="#fff",i.style.fontSize="24px";var s=document.createElement("div");return s.setAttribute("id","unread_chat_msgs_num"),s.style.position="absolute",s.style.top="-5px",s.style.right="-5px",s.style.backgroundColor="red",s.style.color="white",s.style.borderRadius="50%",s.style.padding="5px 10px",s.style.fontSize="12px",s.textContent="0",r&&r.chat_opener_theme&&(s.style.color=r.chat_opener_theme.textColor),o.appendChild(i),o.appendChild(s),o.addEventListener("click",Ot(Lt().mark((function n(){return Lt().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:Nt(Pt,e,Kt,r,t,e.tenant_info.id);case 1:case"end":return n.stop()}}),n)})))),o}function zt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Dt(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?zt(Object(n),!0).forEach((function(t){Ut(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):zt(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Ut(e,t,n){return(t=function(e){var t=function(e,t){if("object"!=Jt(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,"string");if("object"!=Jt(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(e);return"symbol"==Jt(t)?t:t+""}(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function qt(){qt=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,o=Object.defineProperty||function(e,t,n){e[t]=n.value},i="function"==typeof Symbol?Symbol:{},s=i.iterator||"@@iterator",a=i.asyncIterator||"@@asyncIterator",c=i.toStringTag||"@@toStringTag";function l(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{l({},"")}catch(e){l=function(e,t,n){return e[t]=n}}function u(e,t,n,r){var i=t&&t.prototype instanceof y?t:y,s=Object.create(i.prototype),a=new T(r||[]);return o(s,"_invoke",{value:L(e,n,a)}),s}function d(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=u;var p="suspendedStart",h="suspendedYield",f="executing",g="completed",m={};function y(){}function v(){}function b(){}var _={};l(_,s,(function(){return this}));var w=Object.getPrototypeOf,x=w&&w(w(N([])));x&&x!==n&&r.call(x,s)&&(_=x);var C=b.prototype=y.prototype=Object.create(_);function k(e){["next","throw","return"].forEach((function(t){l(e,t,(function(e){return this._invoke(t,e)}))}))}function E(e,t){function n(o,i,s,a){var c=d(e[o],e,i);if("throw"!==c.type){var l=c.arg,u=l.value;return u&&"object"==Jt(u)&&r.call(u,"__await")?t.resolve(u.__await).then((function(e){n("next",e,s,a)}),(function(e){n("throw",e,s,a)})):t.resolve(u).then((function(e){l.value=e,s(l)}),(function(e){return n("throw",e,s,a)}))}a(c.arg)}var i;o(this,"_invoke",{value:function(e,r){function o(){return new t((function(t,o){n(e,r,t,o)}))}return i=i?i.then(o,o):o()}})}function L(t,n,r){var o=p;return function(i,s){if(o===f)throw Error("Generator is already running");if(o===g){if("throw"===i)throw s;return{value:e,done:!0}}for(r.method=i,r.arg=s;;){var a=r.delegate;if(a){var c=S(a,r);if(c){if(c===m)continue;return c}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(o===p)throw o=g,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);o=f;var l=d(t,n,r);if("normal"===l.type){if(o=r.done?g:h,l.arg===m)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(o=g,r.method="throw",r.arg=l.arg)}}}function S(t,n){var r=n.method,o=t.iterator[r];if(o===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,S(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),m;var i=d(o,t.iterator,n.arg);if("throw"===i.type)return n.method="throw",n.arg=i.arg,n.delegate=null,m;var s=i.arg;return s?s.done?(n[t.resultName]=s.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,m):s:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,m)}function O(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function A(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function T(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(O,this),this.reset(!0)}function N(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var o=-1,i=function n(){for(;++o<t.length;)if(r.call(t,o))return n.value=t[o],n.done=!1,n;return n.value=e,n.done=!0,n};return i.next=i}}throw new TypeError(Jt(t)+" is not iterable")}return v.prototype=b,o(C,"constructor",{value:b,configurable:!0}),o(b,"constructor",{value:v,configurable:!0}),v.displayName=l(b,c,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===v||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,l(e,c,"GeneratorFunction")),e.prototype=Object.create(C),e},t.awrap=function(e){return{__await:e}},k(E.prototype),l(E.prototype,a,(function(){return this})),t.AsyncIterator=E,t.async=function(e,n,r,o,i){void 0===i&&(i=Promise);var s=new E(u(e,n,r,o),i);return t.isGeneratorFunction(n)?s:s.next().then((function(e){return e.done?e.value:s.next()}))},k(C),l(C,c,"Generator"),l(C,s,(function(){return this})),l(C,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=N,T.prototype={constructor:T,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(A),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function o(r,o){return a.type="throw",a.arg=t,n.next=r,o&&(n.method="next",n.arg=e),!!o}for(var i=this.tryEntries.length-1;i>=0;--i){var s=this.tryEntries[i],a=s.completion;if("root"===s.tryLoc)return o("end");if(s.tryLoc<=this.prev){var c=r.call(s,"catchLoc"),l=r.call(s,"finallyLoc");if(c&&l){if(this.prev<s.catchLoc)return o(s.catchLoc,!0);if(this.prev<s.finallyLoc)return o(s.finallyLoc)}else if(c){if(this.prev<s.catchLoc)return o(s.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<s.finallyLoc)return o(s.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var o=this.tryEntries[n];if(o.tryLoc<=this.prev&&r.call(o,"finallyLoc")&&this.prev<o.finallyLoc){var i=o;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var s=i?i.completion:{};return s.type=e,s.arg=t,i?(this.method="next",this.next=i.finallyLoc,m):this.complete(s)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),m},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),A(n),m}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var o=r.arg;A(n)}return o}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:N(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),m}},t}function Jt(e){return Jt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Jt(e)}function Zt(e,t,n,r,o,i,s){try{var a=e[i](s),c=a.value}catch(e){return void n(e)}a.done?t(c):Promise.resolve(c).then(r,o)}function Gt(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var i=e.apply(t,n);function s(e){Zt(i,r,o,s,a,"next",e)}function a(e){Zt(i,r,o,s,a,"throw",e)}s(void 0)}))}}console.log("Client Activated!!!","ws://dev.addchat.tech:8000");var Yt,Xt={unread_msgs:[]},Wt={},Kt=null;function Qt(e){var t=e.split("__")[1];return parseInt(t,10)-1}function $t(){var e=["#FF5733","#33FF57","#5733FF","#33B5E5","#FFC300"],t=e[Math.floor(Math.random()*e.length)];document.body.style.backgroundColor=t}function en(){var e=document.createElement("div");e.classList.add("full-screen-div");var t=document.createElement("div");t.classList.add("left-part"),t.style.width="25%",t.style.height="100%",t.style.backgroundColor="white",t.style.border="3px solid grey",t.style.float="left",t.style.padding="10px";var n=document.createElement("label");n.textContent="Form Title:";var r=document.createElement("input");r.type="text",r.placeholder="Enter form title",r.style.padding="10px",r.style.marginBottom="10px",n.appendChild(r),t.appendChild(n);var o=document.createElement("button");o.textContent="Create Form Preview",o.style.width="50%",o.style.padding="10px",o.style.marginTop="10px",o.style.backgroundColor="#2196F3",o.style.color="white",o.style.border="none",o.style.borderRadius="3px",o.addEventListener("click",(function(){var e=r.value.trim();s.form.title=e||"Form Title";var t=b(s,g);i.innerHTML="",i.appendChild(t)})),t.appendChild(o),e.appendChild(t);var i=document.createElement("div");i.classList.add("right-part"),i.style.width="60%",i.style.height="100%",i.style.backgroundColor="black",i.style.float="left",i.style.padding="10px",e.appendChild(i),document.body.appendChild(e);var s={form:{id:"loginForm",title:"Login Title Here"},submitButton:{textContent:"Login"},fields:[{field_name:"email",placeholder:"Enter your email",type:"email"},{field_name:"password",placeholder:"Enter your password",type:"password"}]},a=b(s,g);i.appendChild(a)}function tn(e,t){return nn.apply(this,arguments)}function nn(){return(nn=Gt(qt().mark((function e(t,n){var r,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n&&n.auth_key&&n.tenant_id&&n.app_name){e.next=3;break}return console.error("Error: Missing required fields in tezkitAppPData"),e.abrupt("return");case 3:if(t&&t.uid){e.next=6;break}return console.error("Error: Missing 'uid' in userData"),e.abrupt("return");case 6:r={Accept:"*/*","User-Agent":"JavaScript Fetch","X-API-Key":n.auth_key,"Content-Type":"application/json"},o={tenant:n.tenant_id,uid:t.uid,app_name:n.app_name,version:n.settings.version},fetch("https://gfxb0jf19k.execute-api.ap-south-1.amazonaws.com/prod/onboarding",{method:"POST",headers:r,body:JSON.stringify(o)}).then((function(e){if(!e.ok)throw new Error("HTTP error! Status: ".concat(e.status));return e.json()})).then((function(e){console.log("Onboarding Response Data:",e)})).catch((function(e){console.error("Error:",e)}));case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rn(){window.innerWidth<jt?Kt.style.display="flex":Kt.style.display="block"}function on(e,t){var n=localStorage.getItem("tezkit_app_data");if(n){var r=JSON.parse(n);if(console.log(e,"here is tezkit_app_p_datais",e,r.app_name.length,e.length),r.auth_key!=t&&B(["Wrong `api_key` found in credentials. Please Correct them and Logout and Login again. You can also Reset using below button."]),r.app_name!=e)throw new Error("Wrong `app_name` found in credentials. Please Correct them and Try again. You might want to reset below")}if(!e||!t)throw new Error("App name or API key is missing.")}function sn(e,t,n){JSON.parse(e).api_key!==t&&B(["Api Key did not match for ".concat(n," messages; Should probably logout and login back.")])}function an(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null;try{console.log("arewewnrewr wrewrdsfsdf",e,t),on(e,t),console.log(e,"are we saving this api_key anywhere?",t);var i=localStorage.getItem("setup_done");null!=i&&null!=i||(function(e,t,n,r,o){localStorage.setItem("tezkit_app_name",e),localStorage.setItem("tezkit_api_key",t),console.log("werwerheader_reqsdf",r),function(e){var t=localStorage.getItem("tezkit_msgs_read_data");if(!t){var n=JSON.stringify({api_key:e,msgs:[]});localStorage.setItem("tezkit_msgs_read_data",n)}var r=localStorage.getItem("tezkit_msgs_unread_data");if(r)sn(t,e,"read"),sn(r,e,"unread");else{var o=JSON.stringify({api_key:e,msgs:[]});localStorage.setItem("tezkit_msgs_unread_data",o)}}(t),function(e){e&&localStorage.setItem("theme",e)}(n),localStorage.setItem("tezkit_header_req",JSON.stringify(r)),localStorage.setItem("setup_done","true"),localStorage.setItem("redirect_uri",o)}(e,t,n,r,o),on(e,t)),vn(null,t)}catch(e){console.error("Failed to set up localStorage:",e.message),B([e.message])}}function cn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"DELIVERED",r=arguments.length>3?arguments[3]:void 0,o=arguments.length>4?arguments[4]:void 0;console.log("show me what do e iahve",dn);var i="global_for__"+dn.tenant_info.id;e.emit("ON_MESSAGE_STATUS_CHANGED",{action:"MSG_STATUS_CHANGE_EVENT",ret_id:t,room:i,status:n,timestamp:Date.now(),app_name:r,user_id:o}),V({type:"status",msg_ids:[t],status:n})}function ln(e){return un.apply(this,arguments)}function un(){return(un=Gt(qt().mark((function e(t){var n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=1,e.next=4,fetch("https://gfxb0jf19k.execute-api.ap-south-1.amazonaws.com/prod/me",{method:"GET",headers:{Authorization:t,Accept:"*/*"}});case 4:if((n=e.sent).ok){e.next=7;break}throw new Error("Network response was not ok");case 7:return e.next=9,n.json();case 9:return r=e.sent,e.abrupt("return",r);case 13:throw e.prev=13,e.t0=e.catch(1),console.error("There was a problem with the fetch operation:",e.t0),e.t0;case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}console.log("process.env.dsfsdf"),console.log("Script got executed!!");var dn=null;function pn(e,t){return hn.apply(this,arguments)}function hn(){return(hn=Gt(qt().mark((function e(t,n){var r,o,i,s;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return console.log("ensure tenant_id is tenant_id",n),(r=new Headers).append("x-api-key","bGVnYWwxMjNfX1NFUFJBVE9SX190ZXN0ZGRk"),o={method:"GET",headers:r,redirect:"follow"},e.prev=4,e.next=7,fetch("https://sk5ge5ejhd.execute-api.ap-south-1.amazonaws.com/prod/get_bot_content?app_name=".concat(t,"&tenant_id=").concat(n),o);case 7:return i=e.sent,e.next=10,i.json();case 10:return s=e.sent,console.log(s),e.abrupt("return",s);case 15:e.prev=15,e.t0=e.catch(4),console.error(e.t0);case 18:case"end":return e.stop()}}),e,null,[[4,15]])})))).apply(this,arguments)}function fn(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"REGULAR",o=JSON.parse(t);console.log("arenthewehere?",r),"BOT"!=r&&(console.log("arent weh ere???"),cn(e,o.message.ret_id,"DELIVERED",dn.app_name,o.message.to_user.id)),function(e){var t;e&&"V1"==JSON.parse(e).settings.version&&((t=document.getElementById("unread_chat_msgs_num")).textContent=Number(t.textContent)+1)}(n),At&&(console.log("here is p_datasdfsdf",o),"REGULAR"==r?It(chatBody,o):"REPLY"==r?It(chatBody,o,"REPLY"):"BOT"==r?It(chatBody,o,"BOT"):"NEW_FILE_MIXED_V1"==r&&(console.log("ihopedoc is uploading throughSDFSDFSDF it??"),It(chatBody,o,"NEW_FILE_MIXED_V1")),"BOT"!=r&&cn(e,o.message.ret_id,"READ",dn.app_name,o.message.to_user.id))}function gn(e){console.log("msg_idsdfsfsdfsdmsg_id",e);var t=document.getElementById(e);if(t)return t.firstChild}function mn(e){console.log("identifierssdfsdfsd",Wt),Yt.emit("join_room",{room:"global_for__"+dn[Wt.name_idn]}),Yt.on("ON_MESSAGE_ARRIVAL_BOT",(function(t){fn(Yt,t,e)})),Yt.on("TYPING_INDICATOR",(function(e){var t=e.frm_user.id;console.log(t,"here we recifed ls from adming",e,Jt(e)),function(e){console.log("typing statusisTyping",e);var t=document.querySelector(".chat_header"),n=t.querySelector("#typingStatusElm");console.log(n,"chatHeadersdasfdasdfa",t),n&&(n.textContent="",n.textContent=e?"typing...":"")}(e.typing)})),Yt.on("BOT_MSG_ARRIVAL",(function(t){console.log("go some bot data???",t),fn(Yt,t,e,"BOT")})),Yt.on("ON_MESSAGE_ARRIVAL",(function(t){fn(Yt,t,e,"REPLY")})),Yt.on("ON_MESSAGE_STATUS_CHANGED",(function(e){var t=JSON.parse(e);t.message.action?"MSG_UPDATED_EVENT"===t.message.action?function(e){var t=e.message,n=t.ret_id,r=t.message;console.log("whatis it now?",e.message),console.log("wwhat is ths msg_id when broken1",n);var o=gn(n,chatBody);o&&(function(e,t){var n=e.querySelector("p");n?n.textContent=t:console.error("Message text element not found.")}(o,r),function(e,t){var n="tezkit_msgs_read_data",r=localStorage.getItem(n);if(r)try{var o=JSON.parse(r);if(o&&Array.isArray(o.msgs)){var i=o.msgs.find((function(t){return t.message&&t.message.ret_id===e}));i&&(i.message.message=t,localStorage.setItem(n,JSON.stringify(o,null,4)))}}catch(e){console.error("Failed to parse localStorage data:",e)}}(n,r))}(t):"MSG_REACTION_EVENT"===t.message.action?function(e){var t=e.message,n=t.ret_id,r=t.message;console.log("ret_idsdfsadfsdf",e.message);var o=r;console.log("wwhat is ths msg_id when broken2",n);var i=gn(n,chatBody);i&&(function(e,t){console.log("arewenoteven calling th?what is the diff",e);var n=e.querySelector(".reaction");n||((n=document.createElement("div")).classList.add("reaction"),e.appendChild(n)),n.textContent=t}(i,o),function(e,t){var n="tezkit_msgs_read_data",r=localStorage.getItem(n);if(r)try{var o=JSON.parse(r);if(o&&Array.isArray(o.msgs)){var i=o.msgs.find((function(t){return t.message&&t.message.ret_id===e}));i&&(i.message.reaction=t,localStorage.setItem(n,JSON.stringify(o,null,4)))}}catch(e){console.error("Failed to parse localStorage data:",e)}}(n,o))}(t):console.error("Action Not Yet Handled:",t.message.action):console.error("No action provided!")})),Yt.on("ON_FILE_UPLOAD",(function(t){fn(Yt,JSON.stringify(t),e,"NEW_FILE_MIXED_V1")}))}function yn(e,t,n){if(e){var r="https:"===window.location.protocol?"wss":"ws",o="https:"===window.location.protocol?"":":".concat("8000"),i="".concat(r,"://").concat("dev.addchat.tech").concat(o);if(console.log("ws_server_ip is here",i),Yt=kt(i,{transports:["websocket"]}),n.hasOwnProperty("name_idn")){if(e.hasOwnProperty(n.name_idn)){mn(t);var s=R(JSON.parse(t).beta_toggle,"P2A","live_status");console.log("asdfsadfsadf",s),s.enable&&(console.log("arewehever"),Yt.on("ON_USER_LIVE_STATUS",(function(e){var t=e;t.hasOwnProperty("status")?(console.log("aewerhere?"),updateAdminLSStatusAtClient(t.status)):console.error("No status provided!")})))}}else console.error("`name_idn` does not exist")}}function vn(e){return bn.apply(this,arguments)}function bn(){return(bn=Gt(qt().mark((function e(t){var n,r,o,i,s,a,c,l,u,d,p,f,g;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(window.addEventListener("resize",rn),!(n=localStorage.getItem("tezkit_app_data"))){e.next=28;break}return r=JSON.parse(n),console.log("sdfjsdlfjsdafsdf",r),Cn(r),o=r.settings.app_type,i=r.settings.version,s=r.tenant_id,a=r.app_name,console.log(r,"so can we rejruewrtenant_id",s),e.next=13,_n(t,r,o,i,s,a);case 13:dn=e.sent,console.log("dowe have it?sdafsdf",dn,Yt),c=JSON.stringify(Dt(Dt({},dn),{},{is_online:!0,version:r.settings.version})),l={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","x-api-key":r.auth_key,"Content-Type":"application/json"},console.log("tezkit_app_p_datasdfsdf",r),console.log("dow ehave"),r.beta_toggle.P2A.live_status.enable&&M(c,l),u=localStorage.getItem("tezkit_msgs_read_data"),console.log("wathewoirow is this tezkit_msgs_read_data",u),u&&xn(r,u),yn(dn,n,Wt),z(dn,Yt,o,i),e.next=32;break;case 28:return e.next=30,kn();case 30:return e.next=32,Ln();case 32:d=localStorage.getItem("tezkit_token"),p=localStorage.getItem("tezkit_header_req"),f=JSON.parse(p),h(n,d,f),!Kt&&dn&&(g=JSON.parse(n),Kt=Mt(g,Yt),document.body.appendChild(Kt));case 37:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function _n(e,t,n,r,o,i){return wn.apply(this,arguments)}function wn(){return(wn=Gt(qt().mark((function e(t,n,r,o,i,s){var a,c,l,u;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("Processing authentication:",t,n,r,o),t){e.next=3;break}return e.abrupt("return",null);case 3:if(["P2A"].includes(r)){e.next=6;break}throw new Error("Unsupported application type: ".concat(r));case 6:e.prev=6,console.log("dsfherewrwerewrversdfsiontezkit_app_p_data",o,r,n),e.t0=o,e.next="V1"===e.t0?11:"V2"===e.t0?22:"V3"===e.t0?31:45;break;case 11:if("V1"!=n.settings.version){e.next=20;break}return e.next=14,ln(t);case 14:a=e.sent,localStorage.setItem("tezkit_me",JSON.stringify(a)),(c=document.getElementById("loginForm"))&&c.addEventListener("submit",g),e.next=21;break;case 20:throw new Error("Unsupported configuration for V1 app type.");case 21:case 30:case 44:return e.abrupt("break",46);case 22:if("V2"!=n.settings.version){e.next=28;break}a=Dt(Dt({},t),{},{apptyp:r,version:o,tenant:i,app_name:s,tenant_info:n.tenant_info}),console.log("Logged in user for V2:",a),localStorage.setItem("tezkit_me",JSON.stringify(a)),e.next=30;break;case 28:throw console.log(o,"whey waht is it?",n.settings.version),new Error("Unsupported configuration for V2 app type.");case 31:if("V3"!=n.settings.version){e.next=42;break}console.log(Jt(n),"tezkit_app_p_datasdf",n.auth_key),l={Accept:"*/*","User-Agent":"Thunder Client (https://www.thunderclient.com)","X-API-Key":n.auth_key,"Content-Type":"application/json"},u=JSON.stringify({tenant:n.tenant_id,uid:t.uid,app_name:n.app_name,version:n.settings.version,tenant_id:n.tenant_info.id}),fetch("https://gfxb0jf19k.execute-api.ap-south-1.amazonaws.com/prod/onboarding",{method:"POST",headers:l,body:u}).then((function(e){return e.json()})).then((function(e){console.log("response data:aaa",e)})).catch((function(e){console.error("Error:",e)})),a=Dt(Dt({},t),{},{apptyp:r,version:o,tenant:i,app_name:s,tenant_info:n.tenant_info}),console.log("Logged in user for V3:",a),localStorage.setItem("tezkit_me",JSON.stringify(a)),e.next=44;break;case 42:throw console.log(o,"whey waht is it1?",n.settings.version),new Error("Unsupported configuration for V3 app type.");case 45:throw new Error("Unsupported version: ".concat(o));case 46:e.next=52;break;case 48:throw e.prev=48,e.t1=e.catch(6),console.error("Authentication failed:",e.t1.message),e.t1;case 52:return e.abrupt("return",a);case 53:case"end":return e.stop()}}),e,null,[[6,48]])})))).apply(this,arguments)}function xn(e,t){var n=JSON.parse(t);e.auth_key,n.api_key}function Cn(e){"V1"==e.settings.version?Wt.name_idn="id":"V2"!=e.settings.version&&"V3"!=e.settings.version||(Wt.name_idn="uid")}function kn(){return En.apply(this,arguments)}function En(){return(En=Gt(qt().mark((function e(){var t,n,r;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=localStorage.getItem("tezkit_app_name"),n=localStorage.getItem("tezkit_api_key"),t&&n){e.next=6;break}console.error("app_name not provided to the client!"),e.next=17;break;case 6:return e.prev=6,e.next=9,D(t,n);case 9:r=e.sent,console.log("what is this should we nto reaiase ian ero",r),r.hasOwnProperty("statusCode")&&200!=r.statusCode?B([JSON.parse(r.body).message||"An unknown error occurred","Or `api_key` is not correct for this `app_name`"]):localStorage.setItem("tezkit_app_data",JSON.stringify(r)),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(6),console.error("Error occurred!",e.t0);case 17:case"end":return e.stop()}}),e,null,[[6,14]])})))).apply(this,arguments)}function Ln(){return Sn.apply(this,arguments)}function Sn(){return(Sn=Gt(qt().mark((function e(){var t,n,r,o;return qt().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=localStorage.getItem("tezkit_app_data"))){e.next=11;break}if(!(n=JSON.parse(t)).enabled_bot_content||"P2A"!=n.settings.app_type){e.next=9;break}return e.next=7,pn(n.app_name,n.tenant_id);case 7:(r=e.sent).bot_payload?localStorage.setItem("tezkit_bot_data",JSON.stringify(r.bot_payload)):B(["Api failed kindly reload!"]);case 9:e.next=22;break;case 11:return e.prev=11,e.next=14,D(app_name,api_key);case 14:o=e.sent,console.log("what is this should we nto reaiase ian ero",o),o.hasOwnProperty("statusCode")&&200!=o.statusCode?B([JSON.parse(o.body).message||"An unknown error occurred","Or `api_key` is not correct for this `app_name`"]):localStorage.setItem("tezkit_app_data",JSON.stringify(o)),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(11),console.error("Error occurred!",e.t0);case 22:case"end":return e.stop()}}),e,null,[[11,19]])})))).apply(this,arguments)}function On(){document.body.innerHTML="";var e=document.createElement("div");e.style.width="100%",e.style.height="200px",e.style.backgroundColor="orange",e.style.color="black",e.style.textAlign="center",e.style.lineHeight="200px",e.innerText="Welcome to the Chat!",document.body.appendChild(e),history.pushState(null,"","/chat")}return console.log("is it latested?"),r})()));